{"version":3,"sources":["_services/loging.service.js","_constants/general_constants.js","_services/db.authentication.service.js","_helpers/auth-header.js","_constants/users_constants.js","_helpers/url-params.js","_helpers/history.js","_components/LoginPage/LoginPage.jsx","_services/generic.editor.service.js","_helpers/error-and-reenter.js","_components/HomePage/HomePage.jsx","_components/SuperAdminOptions/FoodMoments.jsx","_components/SuperAdminOptions/UsersFoodTimes.jsx","_components/SuperAdminOptions/UsersUserHistory.jsx","_components/SuperAdminOptions/Users.jsx","_components/App/App.jsx","reportWebVitals.js","index.jsx"],"names":["console_debug_log","debug_message","window","fynapp_local_debug","process","hasOwnProperty","get_debug_flag","console","log","MSG_ERROR_INVALID_TOKEN","WAIT_ANIMATION_IMG","MSG_ALT_WAIT_ANIMATION","ACTION_CREATE","ACTION_READ","ACTION_UPDATE","ACTION_DELETE","ACTION_LIST","MSG_DELETE_CONFIRM","MSG_ACTION_CREATE","MSG_ACTION_UPDATE","MSG_ACTION_DELETE","MSG_ACTION_CANCEL","MSG_SELECT_AN_OPTION","currentUserSubject","BehaviorSubject","JSON","parse","localStorage","getItem","authenticationService","login","username","password","requestOptions","method","headers","btoa","userService","dbApiService","url","fetch","then","handleResponse","handleFetchError","res","error","Promise","reject","message","user","id","convertId","resultset","_id","email","firstName","firstname","lastName","lastname","token","setItem","stringify","next","logout","removeItem","currentUser","asObservable","currentUserValue","value","response","text","str","e","IsJsonString","data","ok","indexOf","status","location","reload","statusText","error_message","reason","props","apiUrl","this","authHeader","authAndJsonHeader","Object","assign","params","urlQuery","entries","map","key","paramsToUrlQuery","action","queryParams","createRow","updateRow","deleteRow","body","$oid","WEIGHT_UNITS","title","HEIGHT_UNITS","getUrlParams","urlParams","search","searchString","substring","slice","keyPairs","split","Array","isArray","keyPairString","KeyValueArray","match","history","createBrowserHistory","LoginPage","redirect","getPrefix","push","className","initialValues","validationSchema","Yup","shape","required","onSubmit","setStatus","setSubmitting","from","state","pathname","errors","touched","isSubmitting","htmlFor","name","type","component","disabled","src","alt","React","Component","fontawesome","library","add","faPlus","faEye","faEdit","faTrashAlt","faCheck","faList","GenericEditor","dbService","editor","componentSelectFieldsOptionsPromises","handleReadClick","currentTarget","target","setNewError","setNewAction","handleNewClick","handleEditClick","handleDeleteClick","handleSaveClick","handleCancelClick","getEditorData","childComponents","primaryKeyName","parentKeyNames","subType","array_name","parentData","setParentData","getComponentSelectFieldsOptions","fieldElements","initialState","dbApiUrl","initialProps","showModalPopUp","actionCapitalized","toString","toLowerCase","editorFlags","isEdit","isCreate","isRead","isUpdate","isDelete","dbObject","setState","newAction","newId","dbRetrieve","nextProps","nextState","newState","accessKeysDataScreen","parentFilter","getOne","currentRowDataset","accessKeysListing","getAll","listingDataset","errorMessage","getErrorMessage","errorAndReEnter","showWaitAnimation","readAction","updateAction","deleteAction","listAction","editAction","rowIndex","rowId","Table","striped","bordered","hover","filter","htmlElement","currentObj","listing","label","colSpan","onClick","icon","dbRow","getSelectDescription","getEditorFlags","getFieldElementsDbValues","editForm_Fornik_Final","iterateChildComponents","valueToSet","dataset","setShowModalWindow","handleClose","iframeTitle","Modal","show","onHide","Title","Body","style","width","height","Footer","variant","initialFieldValues","componentSelectFieldsOptions","promiseResult","options_array","enableReinitialize","getFieldElementsRequiredYupStype","submitedtElements","saveRowToDatabase","result","putOneFormfield","align","showChildComponents","childElement","rowToSave","keyPair","parameterName","parentElementName","createUpdateDelete","dataPopulator","dataPopulatorObj","getData","datasetRaw","defaultValues","verifyElementExistence","fieldElementsListObj","element","newParentFilter","GenericSelectGenerator","db_rows","show_description","catch","selectOptions","option","GenericSelectDataPopulator","title_field_name","value_field_name","returnData","returnValue","i","currentElement","putSelectOptionsFromArray","select_array_elements","emptyElement","select_elements","readOnlyfield","readonly","array_options","as","refreshPage","errorAndRetry","errorLoginAgain","Button","errorMessageDiv","HomePage","FoodMoments_EditorData","baseUrl","FoodMoments","FoodMomentsSelect","FoodMomentDataPopulator","UsersFoodTimes","UsersUserHistory","Users_EditorData","Users","hidden","default_value","childElementData","App","subscribe","x","Navbar","expand","Container","Brand","href","Toggle","Collapse","Nav","Link","NavDropdown","editorMenuOption","Text","Item","Divider","exact","path","editorRoute","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"kPAAO,SAASA,EAAkBC,IACN,IAKrB,WACqC,qBAA9BC,OAAOC,qBACVC,8QAAYC,eAAe,mBAC1BH,OAAOC,oBAAsBC,GAKrC,OAAOF,OAAOC,mBAbXG,IACCC,QAAQC,IAAIP,GCDb,IAAMQ,EAA0B,mBAO1BC,EAAqB,65BACrBC,EAAyB,UAEzBC,EAAiB,SACjBC,EAAc,OACdC,EAAgB,SAChBC,EAAgB,SAChBC,EAAc,OAIdC,EAAqB,2GACrBC,EAAqB,SAIrBC,EAAoB,SACpBC,EAAoB,SAEpBC,EAAoB,SACpBC,EAAuB,sBCjB9BC,EAAqB,I,OAAIC,GAAgBC,KAAKC,MAAMC,aAAaC,QAAQ,iBAElEC,EAAwB,CACjCC,MAMJ,SAAeC,EAAUC,GACrB,IAGMC,EAAiB,CACnBC,OAAQ,OACRC,QAAS,CAAE,cAAkB,SAAWC,KAAKL,EAAW,IAAMC,KAI9DK,EAAc,IAAIC,EAAa,CAACC,IAAK,UACzC,OAAOC,MAAM,GAAD,OATApC,8CASA,gBAAiC6B,GACxCQ,KAAKC,EAAgBC,GACrBF,MAAK,SAAAG,GACF,GAAGA,EAAIC,MACH,OAAOC,QAAQC,OAAOH,EAAII,SAE9B,IAAIC,EAAO,CACPC,GAAIb,EAAYc,UAAUP,EAAIQ,UAAUC,KACxCtB,SAAUa,EAAIQ,UAAUrB,SACxBuB,MAAOV,EAAIQ,UAAUE,MACrBC,UAAWX,EAAIQ,UAAUI,UACzBC,SAAUb,EAAIQ,UAAUM,SACxBC,MAAOf,EAAIQ,UAAUO,OAKzB,OAFAhC,aAAaiC,QAAQ,cAAenC,KAAKoC,UAAUZ,IACnD1B,EAAmBuC,KAAKb,GACjBA,MAjCfc,OAqCJ,WAEIpC,aAAaqC,WAAW,eACxBzC,EAAmBuC,KAAK,OAvCxBG,YAAa1C,EAAmB2C,eAC5BC,uBAAsB,OAAO5C,EAAmB6C,QA2CjD,SAAS1B,EAAe2B,GAC3B,OAAOA,EAASC,OAAO7B,MAAK,SAAA6B,GACxB,IA4CR,SAAsBC,GAClB,IACI9C,KAAKC,MAAM6C,GACb,MAAOC,GACL,OAAO,EAEX,OAAO,EAlDEC,CAAaH,GACd,OAAOxB,QAAQC,OAAOuB,GAG1B,IAAMI,EAAOJ,GAAQ7C,KAAKC,MAAM4C,GAChC,IAAKD,EAASM,GAAI,EAE+B,IAAzC,CAAC,IAAK,KAAKC,QAAQP,EAASQ,UAE5BhD,EAAsBkC,SACtB7D,OAAO4E,SAASC,QAAO,IAG3B,IAAMlC,EAAS6B,GAAQA,EAAK1B,SAAYqB,EAASW,WAGjD,OAAOlC,QAAQC,OAAOF,GAoB1B,MAhB4B,oBAAd6B,EAAK7B,QACX6B,EAAK7B,OAAQ,GAEe,oBAAtB6B,EAAKO,gBACXP,EAAK1B,QAAU0B,EAAKO,eAEI,oBAAlBP,EAAKtB,WAAqD,iBAAlBsB,EAAKtB,YAInDsB,EAAKtB,UAAY3B,KAAKC,MAAMgD,EAAKtB,YAMlCsB,KAIR,SAAS/B,EAAiBuC,GAC7B,MAAO,CAACrC,OAAO,EAAMG,QDjGgB,qBCiGoBkC,OAAQA,GAgB9D,IAAM5C,EAAb,WAEI,WAAY6C,GAAQ,yBAoBpBA,MAAQ,KApBW,KAqBnBC,OAAShF,8CApBLiF,KAAKF,MAAQA,EAEbE,KAAKF,MAAMG,WC1HZ,WAEH,IAAMrB,EAAcpC,EAAsBsC,iBAC1C,OAAIF,GAAeA,EAAYN,MAEb,CAAE,kBAAmBM,EAAYN,OAGxC,GDkHiB2B,GACxBD,KAAKF,MAAMI,kBAAoBC,OAAOC,OAClC,GACA,CACI,eAAgB,mBAChB,8BAA+B,KAEnCJ,KAAKF,MAAMG,YAZvB,oDA0BI,SAAiBI,GACb,IAAIC,EAAW,GAIf,OAHAH,OAAOI,QAAQF,GAAQG,KAAI,mCAAEC,EAAF,KAAO1B,EAAP,YACvBuB,IAA2B,KAAbA,EAAkB,IAAM,KAAOG,EAAM,IAAM1B,KAEtDuB,IA/Bf,oBAkCI,WAAmB,IAAZD,EAAW,uDAAJ,GACJzD,EAAiB,CAAEC,OAAQ,MAAOC,QAASkD,KAAKF,MAAMG,YACtDK,EAAWN,KAAKU,iBAAiBL,GAGnCrB,EAAW7B,MAAM,GAAD,OAAI6C,KAAKD,OAAT,YAAmBC,KAAKF,MAAM5C,KAA9B,OAAoCoD,GAAY1D,GAC3DQ,KAAKC,EAAgBC,GAC9B,OAAO0B,IAzCf,oBA4CI,SAAOqB,GACH,IAAMzD,EAAiB,CAAEC,OAAQ,MAAOC,QAASkD,KAAKF,MAAMG,YACtDK,EAAWN,KAAKU,iBAAiBL,GAKvC,OAFelD,MAAM,GAAD,OAAI6C,KAAKD,OAAT,YAAmBC,KAAKF,MAAM5C,KAA9B,OAAoCoD,GAAY1D,GAC3DQ,KAAKC,EAAgBC,KAlDtC,gCAsDI,SAAmBqD,EAAQ9C,EAAIwB,GAAuB,IAAjBuB,EAAgB,uDAAJ,GAC7C,OAAOD,GACH,KAAKpF,EACD,OAAOyE,KAAKa,UAAUxB,EAAMuB,GAChC,KAAKnF,EACD,OAAOuE,KAAKc,UAAUjD,EAAIwB,EAAMuB,GACpC,KAAKlF,EACD,OAAOsE,KAAKe,UAAUlD,EAAIwB,EAAMuB,GACpC,QACI,OAAOtD,EAAiB,iCAAiCqD,MA/DzE,uBAmEI,SAAUtB,GAAuB,IAAjBuB,EAAgB,uDAAJ,GAClBN,EAAWN,KAAKU,iBAAiBE,GAKjChE,EAAiB,CACnBC,OAAQ,OACRC,QAASkD,KAAKF,MAAMI,kBACpBc,KAAM5E,KAAKoC,UAAUa,IAErBL,EAAW7B,MAAM,GAAD,OAAI6C,KAAKD,OAAT,YAAmBC,KAAKF,MAAM5C,KAA9B,OAAoCoD,GAAY1D,GAC3DQ,KAAKC,EAAgBC,GAC9B,OAAO0B,IAhFf,uBAmFI,SAAUnB,EAAIwB,GAAuB,IAAjBuB,EAAgB,uDAAJ,GACtBN,EAAWN,KAAKU,iBAAiBE,GAC7B,OAAP/C,IACCwB,EAAKxB,GAAKA,GAId,IAAMjB,EAAiB,CACnBC,OAAQ,MACRC,QAASkD,KAAKF,MAAMI,kBACpBc,KAAM5E,KAAKoC,UAAUa,IAErBL,EAAW7B,MAAM,GAAD,OAAI6C,KAAKD,OAAT,YAAmBC,KAAKF,MAAM5C,KAA9B,OAAoCoD,GAAY1D,GAC3DQ,KAAKC,EAAgBC,GAC9B,OAAO0B,IAjGf,uBAoGI,SAAUnB,EAAIwB,GAAuB,IAAjBuB,EAAgB,uDAAJ,GACxBN,EAAWN,KAAKU,iBAAiBE,GAC3B,OAAP/C,IACCyC,IAA0B,KAAbA,EAAkB,IAAM,KAAzB,aAAoCzC,IAEpD,IAAMjB,EAAiB,CACnBC,OAAQ,SACRC,QAASkD,KAAKF,MAAMI,kBACpBc,KAAM5E,KAAKoC,UAAUa,IAEzB1E,EAAkB,iCAAiCkD,GACnDlD,EAAkB,uCAAuC2F,GACzD3F,EAAkB,mCAClBA,EAAkB0E,GAClB1E,EAAkB,6CAClBA,EAAkBiC,GAClB,IAAIoC,EAAW7B,MAAM,GAAD,OACT6C,KAAKD,OADI,YACMC,KAAKF,MAAM5C,KADjB,OACuBoD,GACnC1D,GAEHQ,KAAKC,EAAgBC,GAC1B,OAAO0B,IAzHf,uBA4HI,SAAUnB,GACN,OAAe,OAAPA,GAAqB,KAANA,GAA0B,kBAAPA,EAAkBA,EAAKA,EAAGoD,SA7H5E,K,YEvHaC,EAAe,CACxB,CAAEC,MAAO,KAAMpC,MAAO,MACtB,CAAEoC,MAAO,SAAUpC,MAAO,OAEjBqC,EAAe,CACxB,CAAED,MAAO,SAAUpC,MAAO,KAC1B,CAAEoC,MAAO,SAAUpC,MAAO,M,2DCNvB,SAASsC,EAAavB,GACzB,IAAIwB,EAAY,GAChB,GAAIxB,EAAM9E,eAAe,aACrB,GAAI8E,EAAML,SAASzE,eAAe,WACA,KAA1B8E,EAAML,SAAS8B,OAAe,CAC9B,IAAIC,EAAe1B,EAAML,SAAS8B,OACE,MAAhCC,EAAaC,UAAU,EAAE,KACzBD,EAAe1B,EAAML,SAAS8B,OAAOG,MAAM,IAE/C,IAAIC,EAAWH,EAAaI,MAAM,KAC/BC,MAAMC,QAAQH,IACbA,EAASnB,KAAI,SAAAuB,GACT,IAAIC,EAAgBD,EAAcH,MAAM,KAGxC,OAFAN,EAAUU,EAAc,IACS,qBAArBA,EAAc,GAAqB,GAAKA,EAAc,GAC3D,cAMnBlC,EAAM9E,eAAe,UACjB8E,EAAMmC,MAAMjH,eAAe,YAC3BsG,EAAYxB,EAAMmC,MAAM5B,QAIpC,OAAOiB,E,YCzBEY,EAAUC,c,WCQjBC,E,kDAIF,WAAYtC,GAAQ,IAAD,8BACf,cAAMA,IAHVwB,UAAY,GAKR,EAAKA,UAAYD,EAAavB,GACS,qBAA5B,EAAKwB,UAAUe,WACtB,EAAKf,UAAUe,SAAWC,qBAI1B9F,EAAsBsC,kBACtBoD,EAAQK,KAAK,EAAKjB,UAAUe,UAVjB,E,0CAcnB,WAAU,IAAD,OACL,OACI,gCACI,qBAAKG,UAAU,mBAAf,oBAGA,uCACA,cAAC,IAAD,CACIC,cAAe,CACX/F,SAAU,GACVC,SAAU,IAEd+F,iBAAkBC,MAAaC,MAAM,CACjClG,SAAUiG,MAAaE,SAAS,wBAChClG,SAAUgG,MAAaE,SAAS,0BAEpCC,SAAU,cAA2D,IAAxDpG,EAAuD,EAAvDA,SAAUC,EAA6C,EAA7CA,SAAcoG,EAA+B,EAA/BA,UAAWC,EAAoB,EAApBA,cAC5CD,IACAvG,EAAsBC,MAAMC,EAAUC,GACjCS,MACG,SAAAQ,GACI,IAAIqF,EAC+B,qBAAxB,EAAKnD,MAAML,UACuB,qBAA9B,EAAKK,MAAML,SAASyD,QAC3BD,EAAO,EAAKnD,MAAML,SAASyD,MAAMD,MAGpCA,IACDA,EAAO,CAAEE,SAAU,EAAK7B,UAAUe,WAEtCH,EAAQK,KAAKU,MAEjB,SAAAzF,GACIwF,GAAc,GAGdrI,EAAkB6C,GAElBuF,EAAUvF,OA/B9B,SAmCE,gBAAG4F,EAAH,EAAGA,OAAQ5D,EAAX,EAAWA,OAAQ6D,EAAnB,EAAmBA,QAASC,EAA5B,EAA4BA,aAA5B,OACE,eAAC,IAAD,WACI,sBAAKd,UAAU,aAAf,UACI,uBAAOe,QAAQ,WAAf,sBACA,cAAC,IAAD,CAAOC,KAAK,WAAWC,KAAK,OAAOjB,UAAW,gBAAkBY,EAAO1G,UAAY2G,EAAQ3G,SAAW,cAAgB,MACtH,cAAC,IAAD,CAAc8G,KAAK,WAAWE,UAAU,MAAMlB,UAAU,wBAE5D,sBAAKA,UAAU,aAAf,UACI,uBAAOe,QAAQ,WAAf,sBACA,cAAC,IAAD,CAAOC,KAAK,WAAWC,KAAK,WAAWjB,UAAW,gBAAkBY,EAAOzG,UAAY0G,EAAQ1G,SAAW,cAAgB,MAC1H,cAAC,IAAD,CAAc6G,KAAK,WAAWE,UAAU,MAAMlB,UAAU,wBAE5D,sBAAKA,UAAU,aAAf,UACI,wBAAQiB,KAAK,SAASjB,UAAU,kBAAkBmB,SAAUL,EAA5D,mBACCA,GACG,qBAAKM,IAAKvI,EAAoBwI,IAAI,eAGzCrE,GACG,qBAAKgD,UAAW,qBAAhB,SAAuChD,iB,GA/E3CsE,IAAMC,WC4B9BC,IAAYC,QAAQC,IAAIC,IAAQC,IAAOC,IAAQC,IAAYC,IAASC,KAE7D,IAAMC,EAAb,kDAMI,WAAY3E,GAAQ,IAAD,uBACf,cAAMA,IALV4E,UAAY,KAIO,EAHnBC,OAAS,KAGU,EAFnBC,qCAAuC,KAEpB,EA8HnBC,gBAAkB,SAAC1F,GAEf,IAAItB,EAAKsB,EAAE2F,cAAc/F,MACR,qBAAPlB,IACNA,EAAKsB,EAAE4F,OAAOhG,OAED,qBAAPlB,EACN,EAAKmH,YPjKqB,mBOmK1B,EAAKC,aAAazJ,EAAa2D,EAAE2F,cAAc/F,QAvIpC,EA2InBmG,eAAiB,SAAC/F,GAEd,EAAK8F,aAAa1J,EAAe,OA7IlB,EAgJnB4J,gBAAkB,SAAChG,GAEf,EAAK8F,aAAaxJ,EAAe0D,EAAE2F,cAAc/F,QAlJlC,EAqJnBqG,kBAAoB,SAACjG,GAEjB,EAAK8F,aAAavJ,EAAeyD,EAAE2F,cAAc/F,QAvJlC,EA0JnBsG,gBAAkB,SAAClG,GAEf,EAAK8F,aAAa,OAAQ9F,EAAE2F,cAAc/F,QA5J3B,EA+JnBuG,kBAAoB,SAACnG,GAEjB,EAAK8F,aAAatJ,EAAa,OA9J/B,EAAKgJ,OAAS,EAAKY,gBACnB,EAAKZ,OAAOrD,UAAYD,EAAa,EAAKvB,OAG1C,IAAIjC,EAA0C,qBAA7B,EAAK8G,OAAOrD,UAAUzD,GAAqB,KAAO,EAAK8G,OAAOrD,UAAUzD,GAGrF8C,EAAkD,qBAAjC,EAAKgE,OAAOrD,UAAUX,OAAyBhF,EAAc,EAAKgJ,OAAOrD,UAAUX,OAGpGnD,EAAQ,GAG8B,oBAA/B,EAAKmH,OAAOa,kBACnB,EAAKb,OAAOa,gBAAkB,IAGO,oBAA9B,EAAKb,OAAOc,iBACnB,EAAKd,OAAOc,eAAiB,MAGQ,oBAA9B,EAAKd,OAAOe,iBACnB,EAAKf,OAAOe,eAAiB,IAGF,oBAApB,EAAKf,OAAOlB,OACnB,EAAKkB,OAAOlB,KAAO,kBAGW,oBAAvB,EAAKkB,OAAOgB,UACnB,EAAKhB,OAAOgB,QAAU,SAGW,oBAA1B,EAAKhB,OAAOiB,YACK,UAAxB,EAAKjB,OAAOgB,UAGZnI,EPrEsC,6EOyE1C,IAAIqI,EAAa,GA5CF,MA6CqB,qBAA1B,EAAK/F,MAAM+F,aACjBA,EAAa,EAAK/F,MAAM+F,YAE5B,EAAKC,cAAcD,GAEnB,EAAKE,gCAAgC,EAAKpB,OAAOqB,eAGjD,EAAK9C,MAAQ,EAAK+C,aAAa,CAACpI,GAAIA,EAAI8C,OAAQA,EAAQgE,OAAQ,EAAKA,OAAQnH,MAAOA,IAEpF,EAAKkH,UAAY,IAAIzH,EAAa,CAACC,IAAK,EAAKyH,OAAOuB,WAEpDvL,EAAkB,iBAAkB,EAAKgK,OAAOnB,KAAM,MACtD7I,EAAkB,eAClBA,EAAkB,EAAKmF,OACvBnF,EAAkB,gBAClBA,EAAkB,EAAKgK,QA7DR,EANvB,iDAsEI,WACI,MAAO,KAvEf,0BA0EI,SAAawB,GACT,IAAIF,EAAe,CACfrH,YAAapC,EAAsBsC,iBACnCjB,GAAIsI,EAAatI,GACjB8C,OAAQwF,EAAaxF,OACrBgE,OAAQwB,EAAaxB,OACrBnH,OAAQ2I,EAAa3I,MAAoB2I,EAAa3I,OACtD4I,gBAAgB,EAEpBH,eAA8B,KAC9BA,kBAAiC,MACjC,OAAOA,IArFf,4BAwFI,SAAeI,GACX,IAAI1F,EAAS0F,EAAkBC,WAAWC,cACtCC,EAAc,GAMlB,OALAA,EAAYC,OAAU9F,IAAWlF,GAAiBkF,IAAWpF,EAC7DiL,EAAYE,SAAY/F,IAAWpF,EACnCiL,EAAYG,OAAUhG,IAAWnF,EACjCgL,EAAYI,SAAYjG,IAAWlF,EACnC+K,EAAYK,SAAYlG,IAAWjF,EAC5B8K,IAhGf,6BAmGI,SAAgBM,EAAUtJ,GACtB,OACKsJ,GAAYA,EAAStJ,MAASsJ,EAASnJ,QACnCH,IACIsJ,IAAa1L,EAA2B0L,EAAW,QAvGxE,yBA2GI,SAAYtJ,GACRwC,KAAK+G,SAAS,CACVvJ,MAAOA,IAET,iBA/GV,0BAqHI,SAAawJ,EAAWC,GAAQ,IAAD,OAC3BjH,KAAK+G,SAAS,CACVpG,OAAQqG,EACRnJ,GAAIoJ,IAEN,WAGS,EAAK/D,MAAMvC,SAAWpF,GACrB,EAAK2L,WAAW,EAAKhE,YA9HzC,+BA0KI,WAEIlD,KAAKkH,WAAWlH,KAAKkD,SA5K7B,+BA+KI,cA/KJ,kCAmLI,cAnLJ,mCAuLI,SAAsBiE,EAAWC,GAK7B,QADgBA,IAAcpH,KAAKkD,UAKhCkE,EAAU5J,QAhMrB,wBAwMI,SAAW6J,GAAW,IAAD,OAGT1C,EAAW3E,KAAKkD,MAAhByB,OAER,OAAO0C,EAAS1G,QAEZ,KAAKnF,EACL,KAAKC,EACL,KAAKC,EACD,IAAI4L,EAAuB,GAC3BA,EAAqB3C,EAAOc,gBAAkB4B,EAASxJ,GACvDyJ,EAAuBnH,OAAOC,OAAO,GAAIkH,EAAsB3C,EAAO4C,cAGtEvH,KAAK0E,UAAU8C,OAAOF,GACjBlK,MACG,SAAAqK,GAAiB,OAAI,EAAKV,SAAS,CAAEU,yBACrC,SAAAjK,GAAK,OAAI,EAAKuJ,SAAS,CAAEvJ,aAGjC,MAEJ,KAAK7B,EACD,IAAI+L,EAAoB,GACxBA,EAAoBvH,OAAOC,OAAO,GAAIsH,EAAmB/C,EAAO4C,cAGhEvH,KAAK0E,UAAUiD,OAAOD,GACjBtK,MACG,SAAAwK,GAAc,OAAI,EAAKb,SAAS,CAAEa,sBAClC,SAAApK,GAAK,OAAI,EAAKuJ,SAAS,CAAEvJ,aAGjCwC,KAAK+G,SAAS,CACVU,kBAAmB,UA3OvC,+BAqPI,WACI,OACI,8BACI,iCACI,qBAAK7D,IAAKvI,EAAoBwI,IAAKvI,UAzPvD,oBA+PI,WACI,MAA0E0E,KAAKkD,MAAvEtE,EAAR,EAAQA,YAAa+B,EAArB,EAAqBA,OAAQ8G,EAA7B,EAA6BA,kBAAmBG,EAAhD,EAAgDA,eAAgBpK,EAAhE,EAAgEA,MAChE,IAAKoB,EACD,OAAO,cAAC,EAAD,IAEX,IAAIiJ,EAAe7H,KAAK8H,gBACnBnH,IAAWhF,EAAciM,EAAiBH,EAC3CjK,GAKJ,GAAIqK,EACA,OAAOE,GAAgBF,GAE3B,GAAIlH,IAAWhF,GAAegF,IAAWpF,GAAuC,OAAtBkM,EAEtD,OAAOzH,KAAKgI,oBAIhB,GAAIrH,IAAWhF,IACgB,OAAnBiM,GACoC,qBAA7BA,EAAe7J,YACpB8D,MAAMC,QAAQ8F,EAAe7J,YAIvC,OAAOiC,KAAKgI,oBAEhB,OAAOrH,GACH,KAAKnF,EACD,OAAOwE,KAAKiI,aAChB,KAAK1M,EACD,OAAOyE,KAAKgH,YAChB,KAAKvL,EACD,OAAOuE,KAAKkI,eAChB,KAAKxM,EACD,OAAOsE,KAAKmI,eAChB,KAAKxM,EACD,OAAOqE,KAAKoI,gBAvS5B,uBA6SI,WACI,OAAOpI,KAAKqI,WPjUW,MOiUgB9M,KA9S/C,wBAiTI,WACI,OAAOyE,KAAKqI,WPpUW,OOoUiB7M,KAlThD,0BAqTI,WACI,OAAOwE,KAAKqI,WPvUW,OOuUiB5M,KAtThD,0BAyTI,WACI,OAAOuE,KAAKqI,WAAWtM,EAAmBL,KA1TlD,wBA6TI,WAAc,IAAD,OACT,EAA0CsE,KAAKkD,MAAvC0E,EAAR,EAAQA,eAAgBpK,EAAxB,EAAwBA,MAAOmH,EAA/B,EAA+BA,OAE3BkD,EAAe7H,KAAK8H,gBAAgBF,EAAgBpK,GAMpD8K,EAAW,EACXC,EAAQ,KAEZ,OACI,gCACI,6BAAK5D,EAAOxD,MAAPwD,eACJkD,GACGE,GAAgBF,IAElBA,GAAgBD,GACd,eAACY,EAAA,EAAD,CAAOC,SAAO,EAACC,UAAQ,EAACC,OAAK,EAA7B,UACI,gCACI,+BACI,kCAAQ,KAEJxI,OAAOI,QAAQoE,EAAOqB,eACjB4C,QAAO,SAASC,GACb,IAAIC,EAAaD,EAAY,GAC7B,MAAiC,qBAAvBC,EAAWC,WAGjBD,EAAWC,WAKlBvI,KAAI,SAASqI,GACV,IAAIC,EAAaD,EAAY,GAC7B,OACZ,6BAA2BC,EAAWE,OAA7BF,EAAWtF,SAIpB,oBAAIyF,QAAQ,MACZ,6BACI,wBACIzG,UAAU,kBACV0G,QAASlJ,KAAKkF,eAFlB,SAIA,cAAC,IAAD,CAAiBiE,KAAK,YALlB,qBAUhB,gCACKvB,EAAe7J,UAAUyC,KAAI,SAAA4I,GAAK,OAC9Bb,EAE4B,qBAAda,EAAMpL,IACToL,EAAMzE,EAAOc,gBAEb,EAAKf,UAAU5G,UAAUsL,EAAMpL,OAG3C,+BACI,6BACKsK,KADG,KAIJnI,OAAOI,QAAQoE,EAAOqB,eACrB4C,QAAO,SAASC,GACb,IAAIC,EAAaD,EAAY,GAC7B,MAAiC,qBAAvBC,EAAWC,WAGjBD,EAAWC,WAKlBvI,KAAI,SAASqI,GACV,IAAIC,EAAaD,EAAY,GAC7B,OACI,6BACIQ,GAAqBP,EAAYM,IAD5BN,EAAWtF,SAMhC,6BACI,wBACIhB,UAAU,kBACV0G,QAAS,EAAKrE,gBACd9F,MAAOwJ,EAHX,SAKA,cAAC,IAAD,CAAiBY,KAAK,WANlB,cASR,6BACI,wBACI3G,UAAU,kBACV0G,QAAS,EAAK/D,gBACdpG,MAAOwJ,EAHX,SAKA,cAAC,IAAD,CAAiBY,KAAK,YANlB,cASR,6BACI,wBACI3G,UAAU,kBACV0G,QAAS,EAAK9D,kBACdrG,MAAOwJ,EAHX,SAKA,cAAC,IAAD,CAAiBY,KAAK,aANlB,kBA3CHZ,gBA5XzC,wBAybI,SAAWpH,EAAOR,GACd,IAAQgE,EAAW3E,KAAKkD,MAAhByB,OACF6B,EAAcxG,KAAKsJ,eAAe3I,GACpC8G,EAAoB,CACpB1J,UAAWiC,KAAKuJ,yBAAyB,KAEzC/L,EAAQ,KACRqK,EAAe,KAgBnB,OAdIrB,EAAYE,WACZe,EAAoBzH,KAAKkD,MAAMuE,kBAC/BjK,EAAQwC,KAAKkD,MAAM1F,MACnBqK,EAAe7H,KAAK8H,gBAAgBL,EAAmBjK,IAYvD,gCACI,6BAAKmH,EAAOxD,MAAQ,MAAOA,IAC1B0G,GACGE,GAAgBF,IAElBA,GAAgBJ,GAEdzH,KAAKwJ,sBAAsB7I,EAAQ8G,EAAkB1J,YAEvD8J,GAAgBJ,IAAsBjB,EAAYE,UAChD1G,KAAKyJ,uBAAuBhC,EAAkB1J,gBA3dlE,gCAieI,SAAmB2L,GACf1J,KAAK+G,SAAS,CACVX,eAAgBsD,MAne5B,mCAueI,SAAsB/I,EAAQgJ,GAAyB,IAAD,OAAfhM,EAAe,uDAAL,GACrCgH,EAAW3E,KAAKkD,MAAhByB,OAER,GAAoB,kBAAhBA,EAAOlB,KACP,OAAOzD,KAAKwJ,sBAAsB7I,EAAQgJ,EAAShM,GAIvDqC,KAAK4J,oBAAmB,GAExB,IAAMC,EAAc,kBAAM,EAAKD,oBAAmB,IAE5CE,EAAcnF,EAAOxD,MAAQ,SAEnC,OACI,mCACI,eAAC4I,EAAA,EAAD,CAAOC,KAAMhK,KAAKkD,MAAMkD,eAAgB6D,OAAQJ,EAAhD,UACI,cAACE,EAAA,EAAMG,MAAP,UAAcJ,IACd,eAACC,EAAA,EAAMI,KAAP,WAAY,wBACRC,MAAO,CAACC,MAAM,OAAOC,OAAO,SAC5BnJ,MAAO2I,IAGP9J,KAAKwJ,sBAAsB7I,EAAQgJ,EAAShM,EAAU,OAG1D,cAACoM,EAAA,EAAMQ,OAAP,UACI,wBAAQC,QAAQ,YAAYtB,QAASW,EAArC,4BAlgBxB,mCA2gBI,SAAsBlJ,EAAQgJ,GAAyB,IAAD,OAAfhM,EAAe,uDAAL,GACrCgH,EAAW3E,KAAKkD,MAAhByB,OACF6B,EAAcxG,KAAKsJ,eAAe3I,GACpC8J,EAAqBzK,KAAKuJ,yBAAyBI,GACnDpB,EAAQkC,EAAmB9F,EAAOc,gBACnCe,EAAYK,WAEXlJ,GAAWA,EAAU,QAAU,IAAM/B,GAGzC,IAAI8O,EAA+B,GAcnC,OAbA1K,KAAK4E,qCACApE,KAAK,SAACsI,GAOH,OANAA,EAAW6B,cACNvN,MAAM,SAACwN,GACJjQ,EAAkB,mCAAmCmO,EAAWtF,KAAK,wBACrE7I,EAAkBiQ,GAClBF,EAA6B5B,EAAWtF,MAAQoH,KAEjD,QAEfjQ,EAAkB,mCAClBA,EAAkB+P,GAGd,cAAC,IAAD,CACIG,oBAAoB,EACpBpI,cACIgI,EAEJ/H,iBAAkBC,MAAaC,MAC3B5C,KAAK8K,iCAAiCtE,IAE1C1D,SACI,SAEIiI,EAFJ,GAIM,IADAhI,EACD,EADCA,UAAWC,EACZ,EADYA,cAEbD,IAEGyD,EAAYE,UACyB,qBAAzBqE,EAAkBlN,WAEtBkN,EAAkBlN,GAG7B,EAAKmN,kBACDrK,EACA4H,EACAwC,EACAN,GAEHrN,MACG,SAAA6N,GAGOA,GAAUA,EAAOzN,OAChBwF,GAAc,GACdD,EAAUkI,IAEV,EAAKhG,aAAatJ,EAAa,SAGvC,SAAA6B,GACIwF,GAAc,GACdD,EAAUvF,OAzC9B,SA6CE,gBAAG4F,EAAH,EAAGA,OAAQ5D,EAAX,EAAWA,OAAQ6D,EAAnB,EAAmBA,QAASC,EAA5B,EAA4BA,aAA5B,OACE,eAAC,IAAD,WAEQ3F,GACA,qBAA6B6E,UAAW,qBAAxC,SAA+D7E,GAAtD,qBAGTwC,OAAOI,QAAQoE,EAAOqB,eAAexF,KAAI,SAASqI,GAC9C,OAAOqC,GAAgBrC,EAAa6B,EAA8BlE,EAAapD,EAAQC,MAG/F,cAACmF,EAAA,EAAD,UACI,gCACI,gCACMhC,EAAYG,QACV,qBAAIwE,MAAM,OAAV,UACI,wBAEI1H,KAAK,SACLjB,UAAU,kBACVmB,SAAUL,EAJd,SAI6BkD,EAAYE,SAAW7K,EAAoB2K,EAAYK,SAAW9K,EAAoBD,GAH3G,gBAKPwH,GACG,qBAAKM,IAAKvI,EAAoBwI,IAAKvI,OAI/C,oBAAI6P,MAAM,OAAV,SACI,wBAEI1H,KAAK,SACLjB,UAAU,kBACVmB,SAAUL,EACV4F,QAAS,EAAK5D,kBALlB,SAOCtJ,GANO,yBAYvBwD,GACG,qBAAKgD,UAAW,qBAAhB,SAAuChD,IAE3C,gCA7nBpB,oCAooBI,SAAuBmK,GACnB,IAAIc,EAAqBzK,KAAKuJ,yBAAyBI,GACnDyB,EAAsBpL,KAAKoL,oBAC/B,OAAOjL,OAAOI,QAAQP,KAAKkD,MAAMyB,OAAOa,iBACnChF,KAAI,SAASqI,GACV,IAAIwC,EAAexC,EAAY,GAC/B,OAAOuC,EAAoBX,EAAoBY,QA1oB/D,iCA8oBI,SAAoBxF,EAAYwF,GAYpB,OAXAA,EAAa7H,KAWL,KA1pBxB,+BA8pBI,SAAkB7C,EAAQ4H,EAAOwC,EAAmBtI,GAChD,IAAQkC,EAAW3E,KAAKkD,MAAhByB,OACJ2G,EAAYP,EA8BhB,MA7BmB,kBAAhBpG,EAAOlB,OAaN8E,EAAQ,KACR+C,EAAY,GACZ3G,EAAOe,eAAelF,KAAI,SAAA+K,GAGtB,OAFAD,EAAUC,EAAQC,eACd7G,EAAOkB,WAAW0F,EAAQE,mBACvB,QAEXH,EAAU3G,EAAOiB,YAAcmF,EAC/BO,EAAU3G,EAAOiB,WAAW,QAAUnD,GAQnCzC,KAAK0E,UAAUgH,mBAAmB/K,EAAQ4H,EAAO+C,KA9rBhE,qCAksBI,WAOI,OAN2BnL,OAAOI,QAAQP,KAAKkD,MAAMyB,OAAOqB,eACvDxF,KAAI,SAASC,GAEV,OADiBA,EAAI,GACH+C,UAtsBlC,6CA4sBI,SAAgCwC,GAC5BhG,KAAK4E,qCAAuCzE,OAAOI,QAAQyF,GACtD4C,QAAO,SAASnI,GACb,IAAIqI,EAAarI,EAAI,GACrB,MAA4B,qBAApBqI,EAAWrF,MAAmE,qBAA7BqF,EAAW6C,iBAEvEnL,KAAI,SAASC,GACV,IAAIqI,EAAarI,EAAI,GACjBmL,EAAmB,IAAI9C,EAAW6C,cACtC,MAAO,CACHnI,KAAMsF,EAAWtF,KACjBmH,cAAeiB,EAAiBC,UAC3BzO,MAAM,SAACwN,GACJ,OAAOA,WAztBnC,sCAguBI,SAAyBkB,GAAmC,IAAvBC,IAAsB,yDAC/CpH,EAAW3E,KAAKkD,MAAhByB,OACJgF,EAAU,GACM,kBAAhBhF,EAAOlB,KACPkG,EAAUxJ,OAAOC,OAAO,GAAIuJ,EAASmC,GAEf,UAAnBnH,EAAOgB,UACNgE,EAAUxJ,OAAOC,OAAO,GAAIuJ,EAASmC,EAAW,KAGxD,IAAIpH,EAAY1E,KAAK0E,UACjBsH,EAAyBhM,KAAKgM,uBAC9BC,EAAuB,GAkB3B,OAjBA9L,OAAOI,QAAQoE,EAAOqB,eACjBxF,KAAI,SAASC,GACV,IAAIqI,EAAarI,EAAI,GAYrB,MAXuB,QAApBqI,EAAWrF,KACPuI,EAAuBrC,EAAS,IAAIb,EAAWtF,MAC9CyI,EAAqBnD,EAAWtF,MAAQkB,EAAU5G,UAAU6L,EAAQ,IAAIb,EAAWtF,OAC7EuI,IACNE,EAAqBnD,EAAWtF,MAAQ,GAEtCwI,EAAuBrC,EAASb,EAAWtF,MACjDyI,EAAqBnD,EAAWtF,MAAQmG,EAAQb,EAAWtF,MACrDuI,IACNE,EAAqBnD,EAAWtF,MAA6B,WAApBsF,EAAWrF,KAAoB,EAAI,IAEzE,QAGRwI,IA9vBf,oCAiwBI,SAAuBtC,EAASuC,GAE5B,MADmD,qBAArBvC,EAAQuC,KAlwB9C,8CAswBI,SAAiC1F,GAC7B,GAAGA,EAAYK,SACX,MAAO,GAEX,IAAIoF,EAAuB,GAY3B,OAXA9L,OAAOI,QAAQP,KAAKkD,MAAMyB,OAAOqB,eAC5BxF,KAAI,SAASC,GACV,IAAIqI,EAAarI,EAAI,GAMrB,OALGqI,EAAWjG,WACVoJ,EAAqBnD,EAAWtF,MAAQb,MAAaE,SACjDiG,EAAWE,MAAQ,iBAGpB,QAGRiD,IAtxBf,2BAyxBI,SAAcpG,GACV,IAAIsG,EAAkB,GACtBnM,KAAK2E,OAAOe,eAAelF,KAAI,SAAA+K,GAAO,OAE9BY,EAAgBZ,EAAQC,eACpB3F,EAAW0F,EAAQE,sBAO/BzL,KAAK2E,OAAO4C,aAAe4E,EAC3BnM,KAAK2E,OAAOkB,WAAaA,MAtyBjC,GAAmC/B,IAAMC,WA2yB5BqI,EAAb,kDAKI,WAAYtM,GAAQ,IAAD,8BACf,cAAMA,IAJV6E,OAAS,KAGU,EAFnBD,UAAY,KAIR,EAAKC,OAAS,EAAKY,gBACnB,EAAKrC,MAAQ,EAAK+C,eAClB,EAAKvB,UAAY,IAAIzH,EAAa,CAACC,IAAK,EAAKyH,OAAOuB,WAJrC,EALvB,iDAYI,WACI,MAAO,KAbf,0BAgBI,WACI,MAAO,CACHmG,QAAS,KACTzD,OAAsC,qBAAtB5I,KAAKF,MAAM8I,OAAyB5I,KAAKF,MAAM8I,OAAS,KACxE0D,iBAA0D,qBAAhCtM,KAAKF,MAAMwM,kBAAmCtM,KAAKF,MAAMwM,iBACnF3H,OAAQ3E,KAAK2E,UArBzB,+BAyBI,WAAqB,IAAD,OAChB3E,KAAK0E,UAAUiD,SACVvK,MAAM,SAACwK,GAGJ,EAAKb,SAAS,CAACsF,QAASzE,OAE3B2E,OAAO,SAAC/O,GACL7C,EAAkB,EAAKuI,MAAMyB,OAAOxD,MAAM,2BAC1CxG,EAAkB6C,QAlClC,oBAsCI,WACI,GAA2B,OAAvBwC,KAAKkD,MAAMmJ,QAEX,MAAQ,GAEZ,IAAMG,EACC,CAAC,CAAExO,IAAK,KAAMwF,KAAMvH,IADR,mBAEZ+D,KAAKkD,MAAMmJ,QAAQtO,YAEtB2G,EAAY1E,KAAK0E,UACrB,EAAmC1E,KAAKkD,MAAjC0F,EAAP,EAAOA,OAAQ0D,EAAf,EAAeA,iBACf,OACIE,EACK5D,QAAO,SAAC6D,GAAD,OACQ,OAAX7D,GAAyBlE,EAAU5G,UAAU2O,EAAOzO,OAAS4K,KAEjEpI,KAAI,SAACiM,GACF,OAAGH,EACQG,EAAOjJ,KAGd,wBAEIzE,MAAO2F,EAAU5G,UAAU2O,EAAOzO,KAFtC,SAGEyO,EAAOjJ,MAFAkB,EAAU5G,UAAU2O,EAAOzO,aA5D5D,GAA4C8F,IAAMC,WAsErC2I,GAAb,WAMI,aAAyB,IAAb5M,EAAY,uDAAJ,GAAI,yBAJxB6E,OAAS,KAIe,KAHxBD,UAAY,KAGY,KAFxB5E,MAAQ,KAGJE,KAAKF,MAAQA,EACbE,KAAK2E,OAAS3E,KAAKuF,gBACnBvF,KAAKkD,MAAQlD,KAAKiG,eAClBjG,KAAK0E,UAAY,IAAIzH,EAAa,CAACC,IAAK8C,KAAK2E,OAAOuB,WAV5D,iDAaI,WACI,MAAO,KAdf,0BAiBI,WACI,MAAO,CACHmG,QAAS,KACTzD,OAAsC,qBAAtB5I,KAAKF,MAAM8I,OAAyB5I,KAAKF,MAAM8I,OAAS,KACxEjE,OAAQ3E,KAAK2E,OACbgI,iBAA0D,qBAAhC3M,KAAKF,MAAM6M,iBAAmC3M,KAAKF,MAAMwM,iBAAmB,QACtGM,iBAA0D,qBAAhC5M,KAAKF,MAAM8M,iBAAmC5M,KAAKF,MAAM8M,iBAAmB,WAvBlH,qBA2BI,WAAW,IAAD,OACN,OAAO5M,KAAK0E,UAAUiD,SACjBvK,MAAM,SAACwK,GAIJ,OADA,EAAK1E,MAAMmJ,QAAUzE,EACd,EAAKiF,gBAEfN,OAAO,SAAC/O,GAGL,OAFA7C,EAAkB,EAAKuI,MAAMyB,OAAOxD,MAAM,2BAC1CxG,EAAkB6C,IACX,OAtCvB,wBA0CI,WACI,IAAIkH,EAAY1E,KAAK0E,UACrB,EAA8D1E,KAAKkD,MAA5D0F,EAAP,EAAOA,OAAQ+D,EAAf,EAAeA,iBAAkBC,EAAjC,EAAiCA,iBAAkBP,EAAnD,EAAmDA,QAC/CS,EAAc,GACdC,EAAE,EAYN,OAXAV,EAAQtO,UACH6K,QAAO,SAAC6D,GAAD,OACQ,OAAX7D,GAAyBlE,EAAU5G,UAAU2O,EAAOzO,OAAS4K,KAEjEpI,KAAI,SAACiM,GACF,IAAIO,EAAiB,GAIrB,OAHAA,EAAeL,GAAoBF,EAAOjJ,KAC1CwJ,EAAeJ,GAAoBlI,EAAU5G,UAAU2O,EAAOzO,KAC9D8O,EAAYC,KAAOC,EACZ,QAERF,MA1Df,KA+DO,SAASG,GAA0BC,GAA4E,IAArDP,EAAoD,uDAAnC,QAASC,EAA0B,uDAAT,QACpGO,EAAe,GACnBA,EAAaR,GAAoB1Q,EACjCkR,EAAaP,GAAoB,KACjC,IAAMJ,EACC,CAACW,GADW,mBAEZD,IAEP,OAAOV,EAAchM,KAAI,SAACiM,GAAD,OACrB,wBAEI1N,MAAO0N,EAAOG,GAFlB,SAGEH,EAAOE,IAFAF,EAAOG,OAOjB,SAASvD,GAAqBP,EAAYM,GAC7C,MAAuB,qBAApBN,EAAWrF,KAEN,cAACqF,EAAWpF,UAAZ,CAAsBkF,OAAQQ,EAAMN,EAAWtF,MAAM8C,WAAYgG,kBAAkB,IAGnE,WAApBxD,EAAWrF,KAEPqF,EAAWsE,gBACNxE,QAAO,SAAC6D,GAAD,OAAaA,EAAO1N,QAAUqK,EAAMN,EAAWtF,MAAM8C,cAC5D9F,KAAI,SAACiM,GAAD,OAAYA,EAAOtL,SAG7BiI,EAAMN,EAAWtF,MAAM8C,WAI3B,SAAS4E,GAAgBrC,EAAa6B,EAA8BlE,EAAapD,EAAQC,GAC5F,IAAIyF,EAAaD,EAAY,GACvBwE,GAAkB7G,EAAYC,QAA0C,qBAAxBqC,EAAWwE,UAA4BxE,EAAWwE,SACxG,OAAOxE,EAAWrF,MACd,IAAK,mBACD,IAAI8J,EAAgB,GAMpB,MALuC,qBAA7BzE,EAAW6C,eAC4C,qBAAlDjB,EAA6B5B,EAAWtF,QAC/C+J,EAAgB7C,EAA6B5B,EAAWtF,OAI5D,sBAEIhB,UAAU,aAFd,UAII,uBAAOe,QAASuF,EAAWtF,KAA3B,SAAkCsF,EAAWE,QAC7C,cAAC,IAAD,CACIxF,KAAMsF,EAAWtF,KACjBgK,GAAG,SACH7J,SAAU0J,EACV7K,UAAW,gBAAkBY,EAAO0F,EAAWtF,OAASH,EAAQyF,EAAWtF,MAAQ,cAAgB,IAJvG,SAO4C,qBAA7BsF,EAAW6C,cAChBsB,GAA0BM,GAC1B,cAACzE,EAAWpF,UAAZ,MAGV,cAAC,IAAD,CAAcF,KAAMsF,EAAWtF,KAAME,UAAU,MAAMlB,UAAU,uBAhB1DsG,EAAWtF,MAmB5B,IAAK,SACD,OACI,sBAEIhB,UAAU,aAFd,UAII,uBAAOe,QAASuF,EAAWtF,KAA3B,SAAkCsF,EAAWE,QAC7C,cAAC,IAAD,CACIxF,KAAMsF,EAAWtF,KACjBgK,GAAG,SACH7J,SAAU0J,EACV7K,UAAW,gBAAkBY,EAAO0F,EAAWtF,OAASH,EAAQyF,EAAWtF,MAAQ,cAAgB,IAJvG,SAOIyJ,GAA0BnE,EAAWsE,mBAGzC,cAAC,IAAD,CAAc5J,KAAMsF,EAAWtF,KAAME,UAAU,MAAMlB,UAAU,uBAd1DsG,EAAWtF,MAqB5B,QACI,OACI,sBAEIhB,UAAU,aAFd,UAII,uBAAOe,QAASuF,EAAWtF,KAA3B,SAAkCsF,EAAWE,QAC7C,cAAC,IAAD,CAEIxF,KAAMsF,EAAWtF,KACjBC,KAAMqF,EAAWrF,KACjBE,SAAU0J,EACV7K,UAAW,gBAAkBY,EAAO0F,EAAWtF,OAASH,EAAQyF,EAAWtF,MAAQ,cAAgB,KAJ9FsF,EAAWtF,MAMpB,cAAC,IAAD,CAAcA,KAAMsF,EAAWtF,KAAME,UAAU,MAAMlB,UAAU,uBAX1DsG,EAAWtF,O,cC1iC7B,SAAS9E,KACZlC,EAAsBkC,SACtBwD,EAAQK,KAAK,mBAAmB1H,OAAO4E,SAAS0D,UAG7C,SAASsK,KACZ5S,OAAO4E,SAASC,SAGb,SAASqI,GAAgBF,GAC5B,OACI,gCACM6F,GAAc7F,GACd8F,GAAgB9F,MAKvB,SAAS8F,GAAgB9F,GAC5B,OAAGA,IAAiBzM,EAEZ,wBAIJ,gCACI,uBACA,cAACwS,GAAA,EAAD,CAAQ1E,QAASxK,GAAjB,SRnC8B,kCQwCnC,SAASgP,GAAc7F,GAC1B,OACI,gCACKgG,GAEOhG,IAAiBzM,ER9CI,mBQgDnByM,GAGV,uBACA,cAAC+F,GAAA,EAAD,CAAQ1E,QAASuE,GAAjB,SRlD4B,2BQuDjC,SAASI,GAAgBhG,GAC5B,OACI,qBAAKrF,UAAW,qBAAhB,SAAuCqF,I,ICtDzCiG,G,kDACF,WAAYhO,GAAQ,IAAD,8BACf,cAAMA,IAEDoD,MAAQ,CACTtE,YAAapC,EAAsBsC,iBACnCtB,MAAO,MALI,E,0CASnB,WACI,MAA+BwC,KAAKkD,MAA5BtE,EAAR,EAAQA,YAAapB,EAArB,EAAqBA,MAErB,OACI,iCACMoB,GACE,cAAC,EAAD,IAEHA,GACG,qCAAQA,EAAYV,UAApB,OAEHV,GACGuK,GAAgBvK,U,GAtBbsG,IAAMC,WCHtB,SAASgK,KACZ,MAAO,CACHC,QAAS,eACT7M,MAAO,eACPqC,KAAM,cACNE,UAAWuK,GACX/H,SAAU,eACVF,cAAe,CACX,CACIxC,KAAM,KACNX,UAAU,EACVmG,MAAO,KACPvF,KAAM,MACN6J,UAAU,GAEd,CACI9J,KAAM,OACNX,UAAU,EACVmG,MAAO,OACPvF,KAAM,OACN6J,UAAU,EACVvE,SAAS,KAOlB,IAAMkF,GAAb,mKAEI,WACI,OAAOF,SAHf,GAAiCtJ,GAQpByJ,GAAb,mKAEI,WACI,OAAOH,SAHf,GAAuC3B,GAO1B+B,GAAb,mKAEI,WACI,OAAOJ,SAHf,GAA6CrB,ICDtC,IAAM0B,GAAb,mKAEI,WACI,MA5CG,CACHJ,QAAS,aACT7M,MAAO,aACPqC,KAAM,YACNE,UAAW0K,GACXlI,SAAU,wBAEVzC,KAAM,gBACNkC,QAAS,QACTC,WAAY,aACZF,eAAgB,CACZ,CACI8F,cAAe,UACfC,kBAAmB,OAG3BhG,eAAgB,iBAEhBO,cAAe,CACX,CACIxC,KAAM,iBACNwF,MAAO,OACPnG,UAAU,EACVY,KAAM,mBACNkI,cAAewC,GACfzK,UAAWwK,GACXnF,SAAS,GAEb,CACIvF,KAAM,YACNX,UAAU,EACVmG,MAAO,OACPvF,KAAM,OACN6J,UAAU,EACVvE,SAAS,SAOzB,GAAoCtE,GCe7B,IAAM4J,GAAb,mKAEI,WACI,MA3DG,CACHL,QAAS,eACT7M,MAAO,eACPqC,KAAM,eACNE,UAAW2K,GACXnI,SAAU,0BAEVzC,KAAM,gBACNkC,QAAS,QACTC,WAAY,eACZF,eAAgB,CACZ,CACI8F,cAAe,UACfC,kBAAmB,OAG3BhG,eAAgB,OAEhBO,cAAe,CACX,CACIxC,KAAM,OACNwF,MAAO,OACPnG,UAAU,EACVY,KAAM,OACNsF,SAAS,GAEb,CACIvF,KAAM,QACNX,UAAU,EACVmG,MAAO,QACPvF,KAAM,OACN6J,UAAU,EACVvE,SAAS,GAEb,CACIvF,KAAM,SACNX,UAAU,EACVmG,MAAO,SACPvF,KAAM,SACN6J,UAAU,EACVvE,SAAS,GAEb,CACIvF,KAAM,cACNX,UAAU,EACVmG,MAAO,cACPvF,KAAM,SACN2J,gBAAiBlM,EACjBoM,UAAU,EACVvE,SAAS,SAOzB,GAAsCtE,GCjD/B,SAAS6J,KACZ,MAAO,CACHN,QAAS,QACT7M,MAAO,QACPqC,KAAM,OACNE,UAAW6K,GACXrI,SAAU,QACVF,cAAe,CACX,CACIxC,KAAM,KACNX,UAAU,EACVmG,MAAO,KACPvF,KAAM,MACN6J,UAAU,GAEd,CACI9J,KAAM,YACNX,UAAU,EACVmG,MAAO,aACPvF,KAAM,OACN6J,UAAU,EACVvE,SAAS,GAEb,CACIvF,KAAM,WACNX,UAAU,EACVmG,MAAO,YACPvF,KAAM,OACN6J,UAAU,EACVvE,SAAS,GAEb,CACIvF,KAAM,QACNX,UAAU,EACVmG,MAAO,QACPvF,KAAM,QACN6J,UAAU,EACVvE,SAAS,GAEb,CACIvF,KAAM,gBACNX,UAAU,EACVmG,MAAO,gBACPvF,KAAM,OACN6J,UAAU,GAEd,CACI9J,KAAM,gBACNX,UAAU,EACVmG,MAAO,gBACPvF,KAAM,OACN6J,UAAU,GAEd,CACI9J,KAAM,WACNX,UAAU,EACVmG,MAAO,WACPvF,KAAM,OACN6J,UAAU,GAEd,CACI9J,KAAM,SACNX,UAAU,EACVmG,MAAO,SACPvF,KAAM,SACN6J,UAAU,EACVvE,SAAS,GAEb,CACIvF,KAAM,cACNX,UAAU,EACVmG,MAAO,cACPvF,KAAM,SACN2J,gBAAiBhM,EACjBkM,UAAU,EACVvE,SAAS,GAEb,CACIvF,KAAM,SACNX,UAAU,EACVmG,MAAO,SACPvF,KAAM,SACN6J,UAAU,GAEd,CACI9J,KAAM,cACNX,UAAU,EACVmG,MAAO,cACPvF,KAAM,SACN2J,gBAAiBlM,EACjBoM,UAAU,GAEd,CACI9J,KAAM,gBACNX,UAAU,EACVmG,MAAO,gBACPvF,KAAM,OACN6J,UAAU,EACVkB,QAAQ,EACRC,cAAe,oBACf1F,SAAS,IAGjBvD,gBAAiB,CACb,CACIhC,KAAM,kBAEV,CACIA,KAAM,sBAMf,IAAM+K,GAAb,mKAEI,WACI,OAAOD,OAHf,iCAMI,SAAoBzI,EAAYwF,GAE5B,OADA1Q,EAAkB,kDAAkD0Q,EAAa7H,MACzE6H,EAAa7H,MACjB,IAAK,iBACD,OACI,cAAC,GAAD,CACIqC,WAAYA,EAAY6I,iBAAkBrD,GAD1B,kBAI5B,IAAK,mBACD,OACI,cAAC,GAAD,CACIxF,WAAYA,EAAY6I,iBAAkBrD,GADxB,oBAI9B,QACI,MAAQ,QAtBxB,GAA2B5G,GChHrBkK,G,kDACF,WAAY7O,GAAQ,IAAD,8BACf,cAAMA,IAEDoD,MAAQ,CACTtE,YAAa,MAJF,E,qDAQnB,WAAqB,IAAD,OAChBpC,EAAsBoC,YAAYgQ,WAC9B,SAAAC,GAAC,OAAI,EAAK9H,SAAS,CAAEnI,YAAaiQ,S,oBAI1C,WACIrS,EAAsBkC,SACtBwD,EAAQK,KAAKD,4B,oBAGjB,WACI,IAAQ1D,EAAgBoB,KAAKkD,MAArBtE,YACR,OACI,eAAC,IAAD,CAAQsD,QAASA,EAAjB,UACI,8BACKtD,GACG,cAACkQ,EAAA,EAAD,CAAQtM,UAAU,sBAAsBuM,OAAO,KAA/C,SACI,eAACC,EAAA,EAAD,WACI,cAACF,EAAA,EAAOG,MAAR,CAAcC,KAAM5M,oBAApB,oBACA,cAACwM,EAAA,EAAOK,OAAR,CAAe,gBAAc,qBAC7B,cAACL,EAAA,EAAOM,SAAR,CAAiBvR,GAAG,mBAApB,SACI,eAACwR,EAAA,EAAD,CAAK7M,UAAU,UAAf,UACI,cAAC6M,EAAA,EAAIC,KAAL,CAAUJ,KAAM5M,oBAAhB,kBACA,eAACiN,EAAA,EAAD,CAAapO,MAAM,QAAQtD,GAAG,qBAA9B,UACM2R,GAAiBlB,MACjBkB,GAAiBzB,cAI/B,eAACe,EAAA,EAAOM,SAAR,CAAiBvR,GAAG,0BAA0B2E,UAAU,sBAAxD,UACI,cAACsM,EAAA,EAAOW,KAAR,4BACA,eAACF,EAAA,EAAD,CAAapO,MAAOvC,EAAYV,UAAWL,GAAG,qBAA9C,UACI,cAAC0R,EAAA,EAAYG,KAAb,CAAkBR,KAAM5M,2BAAxB,qBACA,cAACiN,EAAA,EAAYG,KAAb,CAAkBR,KAAM5M,+BAAxB,yBACA,cAACiN,EAAA,EAAYI,QAAb,IACA,cAACJ,EAAA,EAAYG,KAAb,CAAkBxG,QAASlJ,KAAKtB,OAAhC,iCAOxB,8BACI,qBAAK8D,UAAU,YAAf,SACI,qBAAKA,UAAU,YAAf,SACI,qBAAKA,UAAU,MAAf,SACI,sBAAKA,UAAU,WAAf,UACI,gCACI,cAAC,IAAD,CAAOoN,OAAK,EAACC,KAAK,IAAInM,UAAWoK,KACjC,cAAC,IAAD,CAAO8B,OAAK,EAACC,KAAMvN,oBAAiBoB,UAAWoK,QAEnD,wBAEA,gCACI,cAAC,IAAD,CAAO+B,KAAK,SAASnM,UAAWtB,IAChC,cAAC,IAAD,CAAOyN,KAAMvN,yBAAsBoB,UAAWtB,OAEhD0N,GAAYxB,MACZwB,GAAY/B,wB,GApEhCjK,IAAMC,WAgFxB,SAAS+L,GAAYnL,GACjB,OACI,cAAC,IAAD,CAAOiL,OAAK,EAACC,KAAMvN,oBAAgBqC,EAAOqJ,QAAStK,UAAWiB,EAAOjB,YAI7E,SAAS8L,GAAiB7K,GACtB,OACI,mCACI,cAAC4K,EAAA,EAAYG,KAAb,CAAkBR,KAAM5M,oBAAgBqC,EAAOqJ,QAA/C,SAAyDrJ,EAAOxD,UCvG5E,IAYe4O,GAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,8BAAqB7S,MAAK,YAAkD,IAA/C8S,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCAdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,GAAD,MAEFC,SAASC,eAAe,SAM1BZ,O","file":"static/js/main.c37fa159.chunk.js","sourcesContent":["export function console_debug_log(debug_message) {\n    if(get_debug_flag() === true) {\n        console.log(debug_message);\n    }\n}\n\nexport function get_debug_flag() {\n    if(typeof window.fynapp_local_debug === 'undefined') {\n        if(process.env.hasOwnProperty('REACT_APP_DEBUG')) {\n            window.fynapp_local_debug = (process.env.REACT_APP_DEBUG === '1');\n        } else {\n            window.fynapp_local_debug = false;\n        }\n    }\n    return window.fynapp_local_debug;\n}","// Security\nexport const MSG_ERROR_INVALID_TOKEN = 'token is invalid';\nexport const MSG_ERROR_SESSION_EXPIRED = 'Session expired.';\nexport const MSG_ERROR_CLICK_TO_RELOGIN = 'Click here to login again.';\nexport const MSG_ERROR_CLICK_TO_RETRY = 'Click here to retry';\n// Database\nexport const MSG_ERROR_CONNECTION_FAIL = 'Connection failure'\n// General\nexport const WAIT_ANIMATION_IMG = \"data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==\";\nexport const MSG_ALT_WAIT_ANIMATION = 'Wait...';\n// Generic editor : general constants\nexport const ACTION_CREATE =  'create';\nexport const ACTION_READ = 'read';\nexport const ACTION_UPDATE = 'update';\nexport const ACTION_DELETE = 'delete';\nexport const ACTION_LIST = 'list';\n// Generic editor : messages\nexport const MSG_ERROR_MISSING_ARRAY_NAME_PARAM = 'Missing \"array_name\" parameter. It must be specified for subType \"array\".';\nexport const MSG_ERROR_ID_NOT_FOUND = 'ID not found...';\nexport const MSG_DELETE_CONFIRM = 'Are you sure to delete this element? Please confirm with the [Delete] button or [Cancel] this operation.';\nexport const MSG_ACTION_CREATE =  'Create';\nexport const MSG_ACTION_NEW =  'New';\nexport const MSG_ACTION_READ = 'View';\nexport const MSG_ACTION_EDIT = 'Edit';\nexport const MSG_ACTION_UPDATE = 'Update';\nexport const MSG_ACTION_DELETE = 'Delete';\nexport const MSG_ACTION_LIST = 'Listing';\nexport const MSG_ACTION_CANCEL = 'Cancel';\nexport const MSG_SELECT_AN_OPTION = 'Select an option...';\n\n","import { console_debug_log } from './loging.service';\nimport { authHeader } from '../_helpers/auth-header';\nimport {\n    ACTION_CREATE, \n    ACTION_UPDATE, \n    ACTION_DELETE, \n    MSG_ERROR_CONNECTION_FAIL,\n} from '../_constants/general_constants';\n\nimport { BehaviorSubject } from 'rxjs';\n\nconst currentUserSubject = new BehaviorSubject(JSON.parse(localStorage.getItem('currentUser')));\n\nexport const authenticationService = {\n    login,\n    logout,\n    currentUser: currentUserSubject.asObservable(),\n    get currentUserValue () { return currentUserSubject.value }\n};\n\nfunction login(username, password) {\n    let config = {\n        apiUrl: process.env.REACT_APP_API_URL\n    }\n    const requestOptions = {\n        method: 'POST',\n        headers: { \"Authorization\":  \"Basic \" + btoa(username + \":\" + password) },\n        // headers: { \"Authorization\":  \"Basic \" + (username + \":\" + password).toString('base64') },\n        // headers: { \"Authorization\":  \"Basic \" + Base64.btoa(username + \":\" + password) },\n    };\n    let userService = new dbApiService({url: 'users'})\n    return fetch(`${config.apiUrl}/users/login`, requestOptions)\n        .then(handleResponse, handleFetchError)\n        .then(res => {\n            if(res.error) {\n                return Promise.reject(res.message);\n            }\n            let user = {\n                id: userService.convertId(res.resultset._id),\n                username: res.resultset.username,\n                email: res.resultset.email,\n                firstName: res.resultset.firstname,\n                lastName: res.resultset.lastname,\n                token: res.resultset.token\n            };\n            // store user details and jwt token in local storage to keep user logged in between page refreshes\n            localStorage.setItem('currentUser', JSON.stringify(user));\n            currentUserSubject.next(user);\n            return user;\n        });\n}\n\nfunction logout() {\n    // remove user from local storage to log user out\n    localStorage.removeItem('currentUser');\n    currentUserSubject.next(null);\n}\n\n// -------------\n\nexport function handleResponse(response) {\n    return response.text().then(text => {\n        if (!IsJsonString(text)) {\n            return Promise.reject(text);\n        }\n        // const location = useLocation();\n        const data = text && JSON.parse(text);\n        if (!response.ok) {\n            // console_debug_log('..--> handleResponse() | response NO ok... / response.statu ='+response.statu);\n            if ([401, 403].indexOf(response.status) !== -1) {\n                // auto logout if 401 Unauthorized or 403 Forbidden response returned from api\n                authenticationService.logout();\n                window.location.reload(true);\n            }\n\n            const error = (data && data.message) || response.statusText;\n            // console_debug_log('..--> handleResponse() | response NO ok... / error =');\n            // console_debug_log(error);\n            return Promise.reject(error);\n        } else {\n            // console_debug_log('..--> handleResponse() | response.ok... / data =');\n            // console_debug_log(data);\n            if(typeof data.error == 'undefined') {\n                data.error = false;\n            }\n            if(typeof data.error_message != 'undefined') {\n                data.message = data.error_message;\n            }\n            if(typeof data.resultset != 'undefined' && typeof data.resultset != 'object') {\n                // When the data.resultset has an array of records (objects) instead of a sigle object, it comes as an encapsulated string\n                // console_debug_log('..--> handleResponse() | typeof data.resultset: ' + (typeof data.resultset) + ' | data.resultset BEFORE =');\n                // console_debug_log(data.resultset);\n                data.resultset = JSON.parse(data.resultset);\n            }\n            // console_debug_log('..--> handleResponse() | data.resultset =');\n            // console_debug_log(data.resultset);\n        }\n\n        return data;\n    });\n}\n\nexport function handleFetchError(reason) {\n    return {error: true, message: MSG_ERROR_CONNECTION_FAIL, reason: reason};\n}\n\nfunction IsJsonString(str) {\n    try {\n        JSON.parse(str);\n    } catch (e) {\n        return false;\n    }\n    return true;\n}\n\n// -------------\n\n// import config from 'config';\n\nexport class dbApiService {\n    \n    constructor(props) {\n        this.props = props;\n     \n        this.props.authHeader = authHeader();\n        this.props.authAndJsonHeader = Object.assign(\n            {}, \n            { \n                'Content-Type': 'application/json',\n                'Access-Control-Allow-Origin': '*'\n            }, \n            this.props.authHeader\n        );\n\n        // console_debug_log('dbApiService - process = ');\n        // console_debug_log(process);\n        // console_debug_log('this.apiUrl = '+this.apiUrl);\n        // console_debug_log('dbServices - this.props.authAndJsonHeader:');\n        // console_debug_log(this.props.authAndJsonHeader);\n    }\n\n    props = null;\n    apiUrl = process.env.REACT_APP_API_URL;\n    // apiUrl = config.apiUrl;\n\n    paramsToUrlQuery(params) {\n        let urlQuery = '';\n        Object.entries(params).map(([key, value]) => (\n            urlQuery += ((urlQuery === '' ? '?' : '&') + key + '=' + value)\n        ));\n        return urlQuery;\n    }\n\n    getAll(params=[]) {\n        const requestOptions = { method: 'GET', headers: this.props.authHeader };\n        const urlQuery = this.paramsToUrlQuery(params);\n        // console_debug_log('dbServices::getAll() - urlQuery: ');\n        // console_debug_log(urlQuery);\n        let response = fetch(`${this.apiUrl}/${this.props.url}${urlQuery}`, requestOptions)\n                .then(handleResponse, handleFetchError);\n        return response;\n    }\n\n    getOne(params) {\n        const requestOptions = { method: 'GET', headers: this.props.authHeader };\n        const urlQuery = this.paramsToUrlQuery(params);\n        // console_debug_log('dbServices::getOne() - urlQuery: ');\n        // console_debug_log(urlQuery);\n        let response = fetch(`${this.apiUrl}/${this.props.url}${urlQuery}`, requestOptions)\n                .then(handleResponse, handleFetchError);\n        return response;\n    }\n\n    createUpdateDelete(action, id, data, queryParams=[]) {\n        switch(action) {\n            case ACTION_CREATE:\n                return this.createRow(data, queryParams);\n            case ACTION_UPDATE:\n                return this.updateRow(id, data, queryParams);\n            case ACTION_DELETE:\n                return this.deleteRow(id, data, queryParams);\n            default:\n                return handleFetchError('Error CUD-1 - Invalid action: '+action)\n        }\n    }\n\n    createRow(data, queryParams=[]) {\n        const urlQuery = this.paramsToUrlQuery(queryParams);\n        // console_debug_log('dbServices::createRow() - data:');\n        // console_debug_log(data);\n        // console_debug_log('dbServices::createRow() - this.props.authAndJsonHeader:');\n        // console_debug_log(this.props.authAndJsonHeader);\n        const requestOptions = { \n            method: 'POST',\n            headers: this.props.authAndJsonHeader,\n            body: JSON.stringify(data)\n        };\n        let response = fetch(`${this.apiUrl}/${this.props.url}${urlQuery}`, requestOptions)\n                .then(handleResponse, handleFetchError);\n        return response;\n    }\n\n    updateRow(id, data, queryParams=[]) {\n        const urlQuery = this.paramsToUrlQuery(queryParams);\n        if(id !== null) {\n            data.id = id;\n        }\n        // console_debug_log('dbServices::updateRow() - id: '+id+' | data:');\n        // console_debug_log(data);\n        const requestOptions = { \n            method: 'PUT',\n            headers: this.props.authAndJsonHeader,\n            body: JSON.stringify(data)\n        };\n        let response = fetch(`${this.apiUrl}/${this.props.url}${urlQuery}`, requestOptions)\n                .then(handleResponse, handleFetchError);\n        return response;\n    }\n\n    deleteRow(id, data, queryParams=[]) {\n        let urlQuery = this.paramsToUrlQuery(queryParams);\n        if(id !== null) {\n            urlQuery += (urlQuery === '' ? '?' : \"&\")+`id=${id}`;\n        }\n        const requestOptions = { \n            method: 'DELETE',\n            headers: this.props.authAndJsonHeader,\n            body: JSON.stringify(data)\n        };\n        console_debug_log('dbServices::deleteRow() - id: '+id);\n        console_debug_log('dbServices::deleteRow() - urlQuery: '+urlQuery);\n        console_debug_log('dbServices::deleteRow() - data:');\n        console_debug_log(data);\n        console_debug_log('dbServices::deleteRow() - requestOptions:');\n        console_debug_log(requestOptions);\n        let response = fetch(\n                `${this.apiUrl}/${this.props.url}${urlQuery}`, \n                requestOptions\n            )\n            .then(handleResponse, handleFetchError);\n        return response;\n    }\n\n    convertId(id) {\n        return (id === null || id ==='' || typeof id === 'string' ? id : id.$oid);\n    }\n}\n","import { authenticationService } from '../_services/db.authentication.service';\n\nexport function authHeader() {\n    // return authorization header with jwt token\n    const currentUser = authenticationService.currentUserValue;\n    if (currentUser && currentUser.token) {\n        // return { Authorization: `Bearer ${currentUser.token}` };\n        let headers = { 'x-access-tokens': currentUser.token };\n        return headers;\n    } else {\n        return {};\n    }\n}","export const WEIGHT_UNITS = [\n    { title: 'Kg', value: 'kg' },\n    { title: 'Pounds', value: 'lb' },\n];\nexport const HEIGHT_UNITS = [\n    { title: 'Meters', value: 'm' },\n    { title: 'Inches', value: 'i' },\n];\n","export function getUrlParams(props) {\n    let urlParams = {};\n    if (props.hasOwnProperty('location')) {\n        if (props.location.hasOwnProperty('search')) {\n            if (props.location.search !== '') {\n                let searchString = props.location.search;\n                if (searchString.substring(0,1) === '?') {\n                    searchString = props.location.search.slice(1);\n                }\n                let keyPairs = searchString.split(\"&\");\n                if(Array.isArray(keyPairs)) {\n                    keyPairs.map(keyPairString => {\n                        let KeyValueArray = keyPairString.split('=');\n                        urlParams[KeyValueArray[0]] = \n                            (typeof KeyValueArray[1] === 'undefined' ? '' : KeyValueArray[1]);\n                        return null;\n                    });\n                }\n            }\n        }\n    } else {\n        if (props.hasOwnProperty('match')) {\n            if (props.match.hasOwnProperty('params')) {\n                urlParams = props.match.params;\n            }\n        }\n    }\n    return urlParams;\n}\n","import { createBrowserHistory } from 'history';\n\nexport const history = createBrowserHistory();\n\nexport function getPrefix() {\n    return '/'+process.env.REACT_APP_URI_PREFIX;\n}\n","import React from 'react';\nimport { Formik, Field, Form, ErrorMessage } from 'formik';\nimport * as Yup from 'yup';\n\nimport { authenticationService } from '../../_services/db.authentication.service';\nimport { getUrlParams } from '../../_helpers/url-params';\nimport { console_debug_log } from '../../_services/loging.service';\nimport { WAIT_ANIMATION_IMG } from '../../_constants/general_constants';\nimport { getPrefix, history } from '../../_helpers/history';\n\nclass LoginPage extends React.Component {\n\n    urlParams = {}\n\n    constructor(props) {\n        super(props);\n\n        this.urlParams = getUrlParams(props);\n        if( typeof this.urlParams.redirect === 'undefined') {\n            this.urlParams.redirect = getPrefix()+'/';\n        }\n\n        // redirect to home if already logged in\n        if (authenticationService.currentUserValue) { \n            history.push(this.urlParams.redirect);\n        }\n    }\n\n    render() {\n        return (\n            <div>\n                <div className=\"alert alert-info\">\n                    FynApp\n                </div>\n                <h2>Login</h2>\n                <Formik\n                    initialValues={{\n                        username: '',\n                        password: ''\n                    }}\n                    validationSchema={Yup.object().shape({\n                        username: Yup.string().required('Username is required'),\n                        password: Yup.string().required('Password is required')\n                    })}\n                    onSubmit={({ username, password }, { setStatus, setSubmitting }) => {\n                        setStatus();\n                        authenticationService.login(username, password)\n                            .then(\n                                user => {\n                                    let from;\n                                    if (typeof this.props.location !== 'undefined') {\n                                        if (typeof this.props.location.state !== 'undefined') {\n                                            from = this.props.location.state.from;\n                                        }\n                                    }\n                                    if (!from) {\n                                        from = { pathname: this.urlParams.redirect };\n                                    }\n                                    history.push(from);\n                                },\n                                error => {\n                                    setSubmitting(false);\n\n                                    // console_debug_log('..--> LoginPage.render.Formik() | response NO ok... / error =');\n                                    console_debug_log(error);\n                        \n                                    setStatus(error);\n                                }\n                            );\n                    }}\n                >{({ errors, status, touched, isSubmitting }) => (\n                    <Form>\n                        <div className=\"form-group\">\n                            <label htmlFor=\"username\">Username</label>\n                            <Field name=\"username\" type=\"text\" className={'form-control' + (errors.username && touched.username ? ' is-invalid' : '')} />\n                            <ErrorMessage name=\"username\" component=\"div\" className=\"invalid-feedback\" />\n                        </div>\n                        <div className=\"form-group\">\n                            <label htmlFor=\"password\">Password</label>\n                            <Field name=\"password\" type=\"password\" className={'form-control' + (errors.password && touched.password ? ' is-invalid' : '')} />\n                            <ErrorMessage name=\"password\" component=\"div\" className=\"invalid-feedback\" />\n                        </div>\n                        <div className=\"form-group\">\n                            <button type=\"submit\" className=\"btn btn-primary\" disabled={isSubmitting}>Login</button>\n                            {isSubmitting &&\n                                <img src={WAIT_ANIMATION_IMG} alt=\"Wait...\"/>\n                            }\n                        </div>\n                        {status &&\n                            <div className={'alert alert-danger'}>{status}</div>\n                        }\n                    </Form>\n                )}\n                </Formik>\n            </div>\n        )\n    }\n}\n\nexport { LoginPage }; ","import { errorAndReEnter, getUrlParams } from '../_helpers';\nimport { dbApiService } from '../_services';\nimport { authenticationService } from '../_services';\nimport { console_debug_log } from './loging.service';\nimport {    ACTION_CREATE, \n            ACTION_READ, \n            ACTION_UPDATE, \n            ACTION_DELETE, \n            ACTION_LIST, \n            WAIT_ANIMATION_IMG, \n            MSG_ERROR_INVALID_TOKEN,\n            MSG_ERROR_MISSING_ARRAY_NAME_PARAM,\n            MSG_ERROR_ID_NOT_FOUND,\n            MSG_DELETE_CONFIRM,\n            MSG_ALT_WAIT_ANIMATION,\n            MSG_ACTION_CREATE,\n            MSG_ACTION_NEW,\n            MSG_ACTION_READ,\n            MSG_ACTION_UPDATE,\n            MSG_ACTION_EDIT,\n            MSG_ACTION_DELETE,\n            MSG_ACTION_LIST,\n            MSG_ACTION_CANCEL,\n            MSG_SELECT_AN_OPTION,\n        } from '../_constants';\n\nimport React from 'react';\n\n    import { Modal } from \"react-bootstrap\";\n\nimport { Formik, Field, Form, ErrorMessage } from 'formik';\nimport * as Yup from 'yup';\nimport { Table } from 'react-bootstrap'\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport fontawesome from '@fortawesome/fontawesome'\nimport { faPlus, faEye, faEdit, faTrashAlt, faCheck, faList } from '@fortawesome/fontawesome-free-solid'\nimport { LoginPage } from '../_components/LoginPage/LoginPage';\nfontawesome.library.add(faPlus, faEye, faEdit, faTrashAlt, faCheck, faList);\n\nexport class GenericEditor extends React.Component {\n\n    dbService = null;\n    editor = null;\n    componentSelectFieldsOptionsPromises = null;\n\n    constructor(props) {\n        super(props);\n\n        this.editor = this.getEditorData();\n        this.editor.urlParams = getUrlParams(this.props);\n\n        // Get primary key 'id' from URL query parameters\n        let id = (typeof this.editor.urlParams.id === 'undefined' ? null : this.editor.urlParams.id);\n\n        // Get 'action' from URL query parameters, defaulting it to Listing state\n        let action = (typeof this.editor.urlParams.action === 'undefined' ? ACTION_LIST : this.editor.urlParams.action);\n\n        // To cllect any error on this constructor and stop processing of this component\n        let error = '';\n\n        // Child components\n        if (typeof this.editor.childComponents == 'undefined') {\n            this.editor.childComponents = [];\n        }\n        // Primary Key parameter name for API calls\n        if (typeof this.editor.primaryKeyName == 'undefined') {\n            this.editor.primaryKeyName = 'id';\n        }\n        // Parent Key Names, for child listing\n        if (typeof this.editor.parentKeyNames == 'undefined') {\n            this.editor.parentKeyNames = [];\n        }\n        // Editor type\n        if (typeof this.editor.type == 'undefined') {\n            this.editor.type = 'master_listing'; // 'master_listing' | 'child_listing'\n        }\n        // Editor sub-type: 'array' is for arrays elements in tables of child listing\n        if (typeof this.editor.subType == 'undefined') {\n            this.editor.subType = 'table'; // 'array' | 'table'\n        }\n        // Array name for those 'array' type child listing. These elements are inside a real table.\n        if (typeof this.editor.array_name == 'undefined' &&\n            this.editor.subType === 'array') {\n            // No default value for the array name\n            // this.editor.array_name = this.editor.baseUrl\n            error = MSG_ERROR_MISSING_ARRAY_NAME_PARAM; // 'Missing \"array_name\" parameter. It must be specified for subType \"array\".';\n        }\n\n        // Filters for child components\n        let parentData = {};\n        if(typeof this.props.parentData !== 'undefined') {\n            parentData = this.props.parentData;\n        }\n        this.setParentData(parentData);\n\n        this.getComponentSelectFieldsOptions(this.editor.fieldElements);\n\n        // Set initial state\n        this.state = this.initialState({id: id, action: action, editor: this.editor, error: error});\n\n        this.dbService = new dbApiService({url: this.editor.dbApiUrl})\n\n        console_debug_log('Constructor | '+ this.editor.name +' |');\n        console_debug_log('this.props:');\n        console_debug_log(this.props);\n        console_debug_log('this.editor:');\n        console_debug_log(this.editor);\n    }\n\n    getEditorData() {\n        return {};\n    }\n\n    initialState(initialProps) {\n        let initialState = {\n            currentUser: authenticationService.currentUserValue,\n            id: initialProps.id,\n            action: initialProps.action,\n            editor: initialProps.editor,\n            error: (initialProps.error === '', null, initialProps.error),\n            showModalPopUp: true\n        };\n        initialState.listingDataset = null;\n        initialState.currentRowDataset = null;\n        return initialState;\n    }\n\n    getEditorFlags(actionCapitalized) {\n        let action = actionCapitalized.toString().toLowerCase();\n        let editorFlags = {};\n        editorFlags.isEdit = (action === ACTION_UPDATE || action === ACTION_CREATE);\n        editorFlags.isCreate = (action === ACTION_CREATE);\n        editorFlags.isRead = (action === ACTION_READ);\n        editorFlags.isUpdate = (action === ACTION_UPDATE);\n        editorFlags.isDelete = (action === ACTION_DELETE);\n        return editorFlags;\n    }\n\n    getErrorMessage(dbObject, error) {\n        return (\n            (dbObject && dbObject.error) ? dbObject.message : \n                (error) ? error : \n                    (dbObject === MSG_ERROR_INVALID_TOKEN) ? dbObject : null\n        );\n    } \n\n    setNewError(error) {\n        this.setState({ \n            error: error,\n        }\n        , () => {\n                // console_debug_log('*** setNewError - this.state.error: ' + this.state.error)\n            }\n        );\n    }\n\n    setNewAction(newAction, newId) {\n        this.setState({ \n            action: newAction,\n            id: newId\n        }\n        , () => {\n                // console_debug_log('*** setNewAction - this.state.action: ' + this.state.action)\n                // console_debug_log('*** setNewAction - this.state.id: '+this.state.id)\n                if(this.state.action !== ACTION_CREATE) {\n                    this.dbRetrieve(this.state);\n                }\n            }\n        );\n    }\n\n    handleReadClick = (e) => {\n        // console_debug_log('handleReadClick');\n        let id = e.currentTarget.value;\n        if(typeof id === 'undefined') {\n            id = e.target.value;\n        }\n        if(typeof id === 'undefined') {\n            this.setNewError(MSG_ERROR_ID_NOT_FOUND); // 'ID not found...'\n        } else {\n            this.setNewAction(ACTION_READ, e.currentTarget.value);\n        }\n    };\n\n    handleNewClick = (e) => {\n        // console_debug_log('handhandleNewClickleReadClick');\n        this.setNewAction(ACTION_CREATE, null);\n    };\n\n    handleEditClick = (e) => {\n        // console_debug_log('handleEditClick');\n        this.setNewAction(ACTION_UPDATE, e.currentTarget.value);\n    };\n\n    handleDeleteClick = (e) => {\n        // console_debug_log('handleDeleteClick');\n        this.setNewAction(ACTION_DELETE, e.currentTarget.value);\n    };\n\n    handleSaveClick = (e) => {\n        // console_debug_log('handleSaveClick');\n        this.setNewAction('save', e.currentTarget.value);\n    };\n\n    handleCancelClick = (e) => {\n        // console_debug_log('handleCancelClick');\n        this.setNewAction(ACTION_LIST, null);\n    };\n\n    componentDidMount() {\n        // console_debug_log('1.1 >> componentDidMount de '+this.state.editor.name+'() - id: '+this.state.id+' | action: '+this.state.action);\n        this.dbRetrieve(this.state);\n    }\n \n    componentDidCatch() {\n        // console_debug_log('1.2 >> componentDidCatch de '+this.state.editor.name+'() - id: '+this.state.id);\n    }\n                          \n    componentWillUnmount() {\n        // console_debug_log('1.4 >> componentWillUnmount de '+this.state.editor.name+'() - id: '+this.state.id);\n    }\n\n    shouldComponentUpdate(nextProps, nextState) {\n        // console_debug_log('1.5 >> shouldComponentUpdate de '+this.state.editor.name+'() - id: '+this.state.id+' | action: '+this.state.action);\n\n        // let refreshed = nextState.id != this.state.id || nextState.action != this.state.action || this.state.listingDataset === null;\n        let refreshed = nextState !== this.state;\n        if(refreshed) {\n            // console_debug_log('>>-> shouldComponentUpdate = True');\n            return true;\n        }\n        if(nextState.error) {\n            // console_debug_log('>>-> shouldComponentUpdate = True por Error');\n            return true;\n        }\n        // console_debug_log('>>-> shouldComponentUpdate = False by Default');\n        return false;\n    }\n\n    dbRetrieve(newState) {\n        // console_debug_log('* * * dbRetrieve of '+this.state.editor.name+' | action: '+newState.action + ' | this.state:');\n        // console_debug_log(this.state);\n        const { editor } = this.state;\n\n        switch(newState.action) {\n\n            case ACTION_READ:\n            case ACTION_UPDATE:\n            case ACTION_DELETE:\n                let accessKeysDataScreen = {}\n                accessKeysDataScreen[editor.primaryKeyName] = newState.id;\n                accessKeysDataScreen = Object.assign({}, accessKeysDataScreen, editor.parentFilter);\n                // console_debug_log('dbRetrieve | '+editor.name+' | GETONE - Begin... | id: '+newState.id + ' | accessKeysDataScreen: ');\n                // console_debug_log(accessKeysDataScreen);\n                this.dbService.getOne(accessKeysDataScreen)\n                    .then(\n                        currentRowDataset => this.setState({ currentRowDataset }),\n                        error => this.setState({ error })\n                    );\n                // console_debug_log('dbRetrieve | '+editor.name+' | GETONE - End...');\n                break;\n\n            case ACTION_LIST:\n                let accessKeysListing = {}\n                accessKeysListing = Object.assign({}, accessKeysListing, editor.parentFilter);\n                // console_debug_log('dbRetrieve | '+editor.name+' | ACTION_LIST GETALL - Begin... | accessKeysListing');\n                // console_debug_log(accessKeysListing);\n                this.dbService.getAll(accessKeysListing)\n                    .then(\n                        listingDataset => this.setState({ listingDataset }),\n                        error => this.setState({ error })\n                    );\n                // console_debug_log('dbRetrieve | '+editor.name+' | ACTION_LIST GETALL - End...');\n                this.setState({ \n                    currentRowDataset: null\n                });\n                break;\n\n            default:\n                // console_debug_log('dbRetrieve NOTHING...');\n                break;\n        }\n    }\n\n    showWaitAnimation() {\n        return (\n            <div>\n                <center>\n                    <img src={WAIT_ANIMATION_IMG} alt={MSG_ALT_WAIT_ANIMATION}/>\n                </center>\n            </div>\n        );\n    }\n\n    render() {\n        const { currentUser, action, currentRowDataset, listingDataset, error } = this.state;\n        if (!currentUser) {\n            return <LoginPage />;\n        }\n        let errorMessage = this.getErrorMessage(\n            (action === ACTION_LIST ? listingDataset : currentRowDataset), \n            error\n        );\n        // console_debug_log('*/*/* '+this.state.editor.name+'-render | action: '+action+' | @--currentRowDataset: ');\n        // console_debug_log('this.editor.render() | currentRowDataset:');\n        // console_debug_log(currentRowDataset);\n        if (errorMessage) {\n            return errorAndReEnter(errorMessage);\n        }\n        if (action !== ACTION_LIST && action !== ACTION_CREATE && currentRowDataset === null) {\n            // console_debug_log('*/*/* '+this.state.editor.name+'-render | ESPERA # 1');\n            return this.showWaitAnimation();\n        }\n        // console_debug_log('render() | '+this.state.editor.name+' | listingDataset:');\n        // console_debug_log(listingDataset);\n        if (action === ACTION_LIST &&\n                (   listingDataset === null || \n                    typeof listingDataset.resultset === 'undefined' ||\n                    ! Array.isArray(listingDataset.resultset)\n                )\n        ) {\n            // console_debug_log('*/*/* '+this.state.editor.name+'-render | ESPERA # 2');\n            return this.showWaitAnimation();\n        }\n        switch(action) {\n            case ACTION_READ:\n                return this.readAction()\n            case ACTION_CREATE:\n                return this.newAction()\n            case ACTION_UPDATE:\n                return this.updateAction()\n            case ACTION_DELETE:\n                return this.deleteAction()\n            case ACTION_LIST:\n                return this.listAction()\n            default:\n                break;\n        }\n    }\n\n    newAction() {\n        return this.editAction(MSG_ACTION_NEW, ACTION_CREATE);\n    }\n\n    readAction() {\n        return this.editAction(MSG_ACTION_READ, ACTION_READ);\n    }\n\n    updateAction() {\n        return this.editAction(MSG_ACTION_EDIT, ACTION_UPDATE);\n    }\n\n    deleteAction() {\n        return this.editAction(MSG_ACTION_DELETE, ACTION_DELETE);\n    }\n\n    listAction() {\n        const { listingDataset, error, editor } = this.state;\n\n        let errorMessage = this.getErrorMessage(listingDataset, error);\n\n        // console_debug_log('listAction | listingDataset object:');\n        // console_debug_log(listingDataset);\n        // console_debug_log('listAction | errorMessage: ' + errorMessage);\n        \n        let rowIndex = 1;\n        let rowId = null;\n\n        return (\n            <div>\n                <h3>{editor.title + ' - ' + MSG_ACTION_LIST}</h3>\n                {errorMessage &&\n                    errorAndReEnter(errorMessage)\n                }\n                {!errorMessage && listingDataset &&\n                    <Table striped bordered hover>\n                        <thead>\n                            <tr>\n                                <th key=\"#\">#</th>\n                                {\n                                    Object.entries(editor.fieldElements)\n                                        .filter(function(htmlElement) {\n                                            let currentObj = htmlElement[1];\n                                            if(typeof currentObj.listing === 'undefined') {\n                                                return false;\n                                            }\n                                            if(!currentObj.listing) {\n                                                return false;\n                                            }\n                                            return true;\n                                        })\n                                        .map(function(htmlElement) {\n                                            let currentObj = htmlElement[1];\n                                            return (\n                                <th key={currentObj.name}>{currentObj.label}</th>\n                                            )\n                                        })\n                                }\n                                <th colSpan=\"2\"></th>\n                                <td key=\"CreateButton\">\n                                    <button\n                                        className=\"btn btn-primary\"\n                                        onClick={this.handleNewClick}\n                                    >\n                                    <FontAwesomeIcon icon=\"plus\" />\n                                    </button>\n                                </td>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            {listingDataset.resultset.map(dbRow => \n                                (rowId = \n                                    (\n                                        typeof dbRow._id === 'undefined' ? \n                                            dbRow[editor.primaryKeyName]\n                                        :\n                                            this.dbService.convertId(dbRow._id)\n                                    )\n                                ) && \n                                <tr key={rowId}>\n                                    <td key=\"#\">\n                                        {rowIndex++}\n                                    </td>\n                                    {\n                                        Object.entries(editor.fieldElements)\n                                        .filter(function(htmlElement) {\n                                            let currentObj = htmlElement[1];\n                                            if(typeof currentObj.listing === 'undefined') {\n                                                return false;\n                                            }\n                                            if(!currentObj.listing) {\n                                                return false;\n                                            }\n                                            return true;\n                                        })\n                                        .map(function(htmlElement) {\n                                            let currentObj = htmlElement[1];\n                                            return (\n                                                <td key={currentObj.name}>{ \n                                                    getSelectDescription(currentObj, dbRow)\n                                                }</td>\n                                            )\n                                        })\n                                    }\n                                    <td key=\"ReadButton\">\n                                        <button\n                                            className=\"btn btn-primary\"\n                                            onClick={this.handleReadClick}\n                                            value={rowId}\n                                        >\n                                        <FontAwesomeIcon icon=\"eye\" />\n                                        </button>\n                                    </td>\n                                    <td key=\"EditButton\">\n                                        <button\n                                            className=\"btn btn-primary\"\n                                            onClick={this.handleEditClick}\n                                            value={rowId}\n                                        >\n                                        <FontAwesomeIcon icon=\"edit\" />\n                                        </button>\n                                    </td>\n                                    <td key=\"DeleteButton\">\n                                        <button\n                                            className=\"btn btn-primary\"\n                                            onClick={this.handleDeleteClick}\n                                            value={rowId}\n                                        >\n                                        <FontAwesomeIcon icon=\"trash\" />\n                                        </button>\n                                    </td>\n                                </tr>\n                            )}\n                        </tbody>\n                    </Table>\n                }\n            </div>\n        );\n    }\n\n    editAction(title, action) {\n        const { editor } = this.state;\n        const editorFlags = this.getEditorFlags(action);\n        let currentRowDataset = {\n            resultset: this.getFieldElementsDbValues({})\n        };\n        let error = null;\n        let errorMessage = null;\n        // let rowId = null;\n        if(!editorFlags.isCreate) {\n            currentRowDataset = this.state.currentRowDataset;\n            error = this.state.error;\n            errorMessage = this.getErrorMessage(currentRowDataset, error);\n            // rowId = this.getFieldElementsDbValues(currentRowDataset.resultset).id; \n        }\n\n        // console_debug_log('editAction | action:' + action + ' | rowId: ' + rowId);\n        // console_debug_log('editAction | error: ' + error + ' | currentRowDataset object:');\n        // console_debug_log(currentRowDataset);\n        // console_debug_log('editAction | editorFlags object:');\n        // console_debug_log(editorFlags);\n        // console_debug_log('editAction | errorMessage:' + errorMessage);\n\n        return (\n            <div>\n                <h3>{editor.title + ' - ' +title}</h3>\n                {errorMessage &&\n                    errorAndReEnter(errorMessage)\n                }\n                {!errorMessage && currentRowDataset && \n                    /* this.editForm_Fornik_Modal(action, currentRowDataset.resultset) */\n                    this.editForm_Fornik_Final(action, currentRowDataset.resultset)\n                }\n                {!errorMessage && currentRowDataset && !editorFlags.isCreate &&\n                    this.iterateChildComponents(currentRowDataset.resultset)\n                }\n            </div>\n        );\n    }\n\n    setShowModalWindow(valueToSet) {\n        this.setState({ \n            showModalPopUp: valueToSet,\n        });\n    }\n\n    editForm_Fornik_Modal(action, dataset, message = '')  {\n        const { editor } = this.state;\n        \n        if (editor.type !== 'child_listing') {\n            return this.editForm_Fornik_Final(action, dataset, message);\n        }\n\n        // const [show, setShowModalWindow] = useState(false);\n        this.setShowModalWindow(true);\n\n        const handleClose = () => this.setShowModalWindow(false);\n        // const handleShow = () => this.setShowModalWindow(true);\n        const iframeTitle = editor.title + ' Popup';\n\n        return (\n            <>\n                <Modal show={this.state.showModalPopUp} onHide={handleClose}>\n                    <Modal.Title>{iframeTitle}</Modal.Title>\n                    <Modal.Body><iframe \n                        style={{width:'100%',height:'400px'}}\n                        title={iframeTitle}\n                    />\n                    {\n                        this.editForm_Fornik_Final(action, dataset, message = '')\n                    }\n                    </Modal.Body>\n                    <Modal.Footer>\n                        <button variant=\"secondary\" onClick={handleClose}>\n                        Close\n                        </button>\n                    </Modal.Footer>\n                </Modal>\n            </>\n        );\n    }\n\n    editForm_Fornik_Final(action, dataset, message = '')  {\n        const { editor } = this.state;\n        const editorFlags = this.getEditorFlags(action);\n        let initialFieldValues = this.getFieldElementsDbValues(dataset);\n        let rowId = initialFieldValues[editor.primaryKeyName];\n        if(editorFlags.isDelete) {\n            // 'Are you sure to delete this element? Please confirm with the [Delete] button or [Cancel] this operation.'\n            message = (message ? '<br/>' : '') + MSG_DELETE_CONFIRM;\n        }\n\n        let componentSelectFieldsOptions = {};\n        this.componentSelectFieldsOptionsPromises\n            .map( (currentObj) => {\n                currentObj.promiseResult\n                    .then( (options_array) => {\n                        console_debug_log('>> componentSelectFieldsOptions['+currentObj.name+'] | options_array = ');\n                        console_debug_log(options_array);\n                        componentSelectFieldsOptions[currentObj.name] = options_array;\n                    } );\n                return null;\n            });\n        console_debug_log('>> componentSelectFieldsOptions');\n        console_debug_log(componentSelectFieldsOptions);\n    \n        return (\n            <Formik\n                enableReinitialize={true}\n                initialValues={\n                    initialFieldValues\n                }\n                validationSchema={Yup.object().shape(\n                    this.getFieldElementsRequiredYupStype(editorFlags)\n                )}\n                onSubmit={\n                    (\n                        // this.getFieldElementsListObj(),\n                        submitedtElements,\n                        { setStatus, setSubmitting }\n                    ) => {\n                        setStatus();\n                        // console_debug_log('BEFORE this.dbService.createUpdateDelete(action = '+action+', rowId = '+rowId+')')\n                        if(editorFlags.isCreate && \n                                typeof submitedtElements.id !== 'undefined') {\n                            // Removes calculated ID\n                            delete submitedtElements.id;\n                        }\n                        // Save the row to Database\n                        this.saveRowToDatabase(\n                            action,\n                            rowId,\n                            submitedtElements,\n                            initialFieldValues\n                        )\n                        .then(\n                            result => {\n                                // console_debug_log('>>>  Formik result');\n                                // console_debug_log(result);\n                                if(result && result.error) {\n                                    setSubmitting(false);\n                                    setStatus(result);\n                                } else {\n                                    this.setNewAction(ACTION_LIST, null);\n                                }\n                            },\n                            error => {\n                                setSubmitting(false);\n                                setStatus(error);\n                            }\n                        );\n                }}\n            >{({ errors, status, touched, isSubmitting }) => (\n                <Form>\n                    {\n                        message &&\n                        <div key=\"AlertMessageOnTop\" className={'alert alert-danger'}>{message}</div>\n                    }\n                    {\n                        Object.entries(editor.fieldElements).map(function(htmlElement) {\n                            return putOneFormfield(htmlElement, componentSelectFieldsOptions, editorFlags, errors, touched);\n                        })\n                    }\n                    <Table>\n                        <tbody>\n                            <tr>\n                                {!editorFlags.isRead &&\n                                    <td align='left'>\n                                        <button \n                                            key=\"SubmitButton\"\n                                            type=\"submit\"\n                                            className=\"btn btn-primary\"\n                                            disabled={isSubmitting}>{editorFlags.isCreate ? MSG_ACTION_CREATE : editorFlags.isDelete ? MSG_ACTION_DELETE : MSG_ACTION_UPDATE}\n                                        </button>\n                                        {isSubmitting &&\n                                            <img src={WAIT_ANIMATION_IMG} alt={MSG_ALT_WAIT_ANIMATION}/>\n                                        }\n                                    </td>\n                                }\n                                <td align='left'>\n                                    <button \n                                        key=\"CancelButton\"\n                                        type=\"button\"\n                                        className=\"btn btn-primary\"\n                                        disabled={isSubmitting}\n                                        onClick={this.handleCancelClick}\n                                    >\n                                    {MSG_ACTION_CANCEL}\n                                    </button>\n                                </td>\n                            </tr>\n                        </tbody>\n                    </Table>\n                    {status &&\n                        <div className={'alert alert-danger'}>{status}</div>\n                    }\n                    <div/>\n                </Form>\n            )}\n        </Formik>\n        );\n    }\n\n    iterateChildComponents(dataset) {\n        let initialFieldValues = this.getFieldElementsDbValues(dataset);\n        let showChildComponents = this.showChildComponents;\n        return Object.entries(this.state.editor.childComponents)\n            .map(function(htmlElement) {\n                let childElement = htmlElement[1];\n                return showChildComponents(initialFieldValues, childElement);\n            });\n    }\n\n    showChildComponents(parentData, childElement) {\n        switch (childElement.name) {\n            case 'TheChildComponent':\n                return (\n                    /*\n                    <TheChildComponent key=\"TheChildComponent\"\n                        parentData={parentData} childElementData={childElement}\n                    ></TheChildComponent>\n                    */\n                   ''\n                );\n            default:\n                return ('');\n        }\n    }\n\n    saveRowToDatabase(action, rowId, submitedtElements, initialValues) {\n        const { editor } = this.state;\n        let rowToSave = submitedtElements;\n        if(editor.type === 'child_listing') {\n            // Build the format for child table\n            // Example:\n            // {\n            //     \"user_id\": \"{{TEST_USER_ID}}\",\n            //     \"food_times\": {\n            //         \"food_moment_id\": \"test_food_moment_id_2\",\n            //         \"food_time\": \"10:00\"\n            //     },\n            //     \"food_times_old\": {\n            //         \"food_moment_id\": \"test_food_moment_id_1\"\n            //     }\n            // }\n            rowId = null;\n            rowToSave = {};\n            editor.parentKeyNames.map(keyPair => {\n                rowToSave[keyPair.parameterName] = // 'user_id',\n                    editor.parentData[keyPair.parentElementName] // parent table 'id'\n                return null;\n            });\n            rowToSave[editor.array_name] = submitedtElements; // 'food_times'\n            rowToSave[editor.array_name+'_old'] = initialValues; // 'food_times'\n        }\n        // console_debug_log('saveRowToDatabase | editor: ');\n        // console_debug_log(editor);\n        // console_debug_log('saveRowToDatabase | rowToSave: ');\n        // console_debug_log(rowToSave);\n\n        // Save the row to Database\n        return this.dbService.createUpdateDelete(action, rowId, rowToSave);\n    }\n\n    // Returns an array with the field names on fieldElements\n    getFieldElementsListObj() {\n        let fieldElementsListObj = Object.entries(this.state.editor.fieldElements)\n            .map(function(key) {\n                let currentObj = key[1];\n                return currentObj.name;\n            }\n        );\n        return fieldElementsListObj\n    }\n\n    getComponentSelectFieldsOptions(fieldElements) { \n        this.componentSelectFieldsOptionsPromises = Object.entries(fieldElements)\n            .filter(function(key) {\n                let currentObj = key[1];\n                return (currentObj.type === 'select_component' && typeof currentObj.dataPopulator !== 'undefined');\n            })\n            .map(function(key) {\n                let currentObj = key[1];\n                let dataPopulatorObj = new currentObj.dataPopulator();\n                return {\n                    name: currentObj.name,\n                    promiseResult: dataPopulatorObj.getData()\n                        .then( (options_array) => {\n                            return options_array;\n                        } )\n                };\n            }\n        );\n    }\n    \n    getFieldElementsDbValues(datasetRaw, defaultValues = true) {\n        const { editor } = this.state;\n        let dataset = {}\n        if (editor.type !== 'child_listing') {\n            dataset = Object.assign({}, dataset, datasetRaw);\n        } else {\n            if(editor.subType === 'array') {\n                dataset = Object.assign({}, dataset, datasetRaw[0]);\n            }\n        }\n        let dbService = this.dbService;\n        let verifyElementExistence = this.verifyElementExistence;\n        let fieldElementsListObj = {};\n        Object.entries(editor.fieldElements)\n            .map(function(key) {\n                let currentObj = key[1];\n                if(currentObj.type === '_id') {\n                    if(verifyElementExistence(dataset, '_'+currentObj.name)) {\n                        fieldElementsListObj[currentObj.name] = dbService.convertId(dataset['_'+currentObj.name])\n                    } else if(defaultValues) {\n                        fieldElementsListObj[currentObj.name] = 0;\n                    }\n                } else if(verifyElementExistence(dataset, currentObj.name)) {\n                    fieldElementsListObj[currentObj.name] = dataset[currentObj.name];\n                } else if(defaultValues) {\n                    fieldElementsListObj[currentObj.name] = (currentObj.type === 'number' ? 0 : '');\n                }\n                return null;\n            }\n        );\n        return fieldElementsListObj\n    }\n\n    verifyElementExistence(dataset, element) {\n        let existsInDataset = (typeof dataset[element] !== 'undefined');\n        return existsInDataset;\n    }\n\n    getFieldElementsRequiredYupStype(editorFlags) {\n        if(editorFlags.isDelete) {\n            return {};\n        }\n        let fieldElementsListObj = {};\n        Object.entries(this.state.editor.fieldElements)\n            .map(function(key) {\n                let currentObj = key[1];\n                if(currentObj.required) {\n                    fieldElementsListObj[currentObj.name] = Yup.string().required(\n                        currentObj.label + ' is required'\n                    )\n                }\n                return null;\n            }\n        );\n        return fieldElementsListObj\n    }\n\n    setParentData(parentData) {\n        let newParentFilter = {};\n        this.editor.parentKeyNames.map(keyPair => \n            (\n                newParentFilter[keyPair.parameterName] = \n                    parentData[keyPair.parentElementName]\n            )\n        );\n        // console_debug_log('setParentData| '+this.editor.name+' |this.editor:');\n        // console_debug_log(this.editor);\n        // console_debug_log('setParentData| '+this.editor.name+' |newParentFilter: ');\n        // console_debug_log(newParentFilter);\n        this.editor.parentFilter = newParentFilter;\n        this.editor.parentData = parentData;\n    }\n\n}\n\nexport class GenericSelectGenerator extends React.Component {\n\n    editor = null;\n    dbService = null;\n\n    constructor(props) {\n        super(props);\n        this.editor = this.getEditorData();\n        this.state = this.initialState();\n        this.dbService = new dbApiService({url: this.editor.dbApiUrl})\n    }\n\n    getEditorData() {\n        return {};\n    }\n\n    initialState() {\n        return {\n            db_rows: null,\n            filter: (typeof this.props.filter !== 'undefined' ? this.props.filter : null),\n            show_description: (typeof this.props.show_description !== 'undefined' ? this.props.show_description : false),\n            editor: this.editor,\n        };\n    }\n\n    componentDidMount() {\n        this.dbService.getAll()\n            .then( (listingDataset) => {\n                // console_debug_log(this.state.editor.title+'-Select | fieldName: ' + this.props.fieldName + ' | listingDataset object:');\n                // console_debug_log(listingDataset);\n                this.setState({db_rows: listingDataset});\n            })\n            .catch( (error) => {\n                console_debug_log(this.state.editor.title+'-Select | error object:');\n                console_debug_log(error);\n            });\n    }\n\n    render() {\n        if (this.state.db_rows === null) {\n            // Still not ready...\n            return ('');\n        }\n        const selectOptions = [\n            ...[{ _id: null, name: MSG_SELECT_AN_OPTION}],\n            ...this.state.db_rows.resultset\n        ];\n        let dbService = this.dbService;\n        const {filter, show_description} = this.state;\n        return (\n            selectOptions\n                .filter((option) => (\n                    (filter === null ? true : dbService.convertId(option._id) === filter)\n                ))\n                .map((option) => {\n                    if(show_description) {\n                        return option.name;\n                    }\n                    return (\n                        <option \n                            key={dbService.convertId(option._id)}\n                            value={dbService.convertId(option._id)}\n                        >{option.name}\n                        </option>\n                    );\n                })\n        );\n    }\n}\n\nexport class GenericSelectDataPopulator {\n\n    editor = null;\n    dbService = null;\n    props = null;\n\n    constructor(props = {}) {\n        this.props = props;\n        this.editor = this.getEditorData();\n        this.state = this.initialState();\n        this.dbService = new dbApiService({url: this.editor.dbApiUrl})\n    }\n\n    getEditorData() {\n        return {};\n    }\n\n    initialState() {\n        return {\n            db_rows: null,\n            filter: (typeof this.props.filter !== 'undefined' ? this.props.filter : null),\n            editor: this.editor,\n            title_field_name: (typeof this.props.title_field_name !== 'undefined' ? this.props.show_description : 'title'),\n            value_field_name: (typeof this.props.value_field_name !== 'undefined' ? this.props.value_field_name : 'value'),\n        };\n    }\n\n    getData() {\n        return this.dbService.getAll()\n            .then( (listingDataset) => {\n                // console_debug_log(this.state.editor.title+'-Select | fieldName: ' + this.props.fieldName + ' | listingDataset object:');\n                // console_debug_log(listingDataset);\n                this.state.db_rows = listingDataset;\n                return this.returnData();\n            })\n            .catch( (error) => {\n                console_debug_log(this.state.editor.title+'-Select | error object:');\n                console_debug_log(error);\n                return false;\n            });\n    }\n\n    returnData() {\n        let dbService = this.dbService;\n        const {filter, title_field_name, value_field_name, db_rows} = this.state;\n        let returnValue = [];\n        let i=0;\n        db_rows.resultset\n            .filter((option) => (\n                (filter === null ? true : dbService.convertId(option._id) === filter)\n            ))\n            .map((option) => {\n                let currentElement = {};\n                currentElement[title_field_name] = option.name;\n                currentElement[value_field_name] = dbService.convertId(option._id);\n                returnValue[i++] = currentElement;\n                return null;\n            })\n        return returnValue;\n    }\n}\n\n\nexport function putSelectOptionsFromArray(select_array_elements, title_field_name='title', value_field_name='value') {\n    let emptyElement = {};\n    emptyElement[title_field_name] = MSG_SELECT_AN_OPTION;\n    emptyElement[value_field_name] = null;\n    const selectOptions = [\n        ...[emptyElement],\n        ...select_array_elements\n    ];\n    return selectOptions.map((option) => (\n        <option\n            key={option[value_field_name]}\n            value={option[value_field_name]} \n        >{option[title_field_name]}</option>\n    ))\n}\n\n\nexport function getSelectDescription(currentObj, dbRow) {\n    if(currentObj.type === 'select_component') {\n        return(\n            <currentObj.component filter={dbRow[currentObj.name].toString()} show_description={true} />\n        );\n    }\n    if (currentObj.type === 'select') {\n        return(\n            currentObj.select_elements\n                .filter((option) => (option.value === dbRow[currentObj.name].toString()))\n                .map((option) => option.title)\n        );\n    }\n    return dbRow[currentObj.name].toString();\n}\n\n\nexport function putOneFormfield(htmlElement, componentSelectFieldsOptions, editorFlags, errors, touched) {\n    let currentObj = htmlElement[1];\n    const readOnlyfield = (!editorFlags.isEdit || (typeof currentObj.readonly !== 'undefined' && currentObj.readonly));\n    switch(currentObj.type) {\n        case 'select_component':\n            let array_options = [];\n            if(typeof currentObj.dataPopulator !== 'undefined') {\n                if (typeof componentSelectFieldsOptions[currentObj.name] !== 'undefined') {\n                    array_options = componentSelectFieldsOptions[currentObj.name];\n                }\n            }\n            return (\n                <div\n                    key={currentObj.name}\n                    className=\"form-group\"\n                >\n                    <label htmlFor={currentObj.name}>{currentObj.label}</label>\n                    <Field \n                        name={currentObj.name}\n                        as=\"select\" \n                        disabled={readOnlyfield} \n                        className={\"form-control\" + (errors[currentObj.name] && touched[currentObj.name] ? ' is-invalid' : '')}\n                    >\n                        {\n                            typeof currentObj.dataPopulator !== 'undefined'\n                            ? putSelectOptionsFromArray(array_options)\n                            : <currentObj.component/>\n                        }\n                    </Field>\n                    <ErrorMessage name={currentObj.name} component=\"div\" className=\"invalid-feedback\" />\n                </div>\n            );\n        case 'select':\n            return (\n                <div\n                    key={currentObj.name}\n                    className=\"form-group\"\n                >\n                    <label htmlFor={currentObj.name}>{currentObj.label}</label>\n                    <Field \n                        name={currentObj.name}\n                        as=\"select\" \n                        disabled={readOnlyfield} \n                        className={\"form-control\" + (errors[currentObj.name] && touched[currentObj.name] ? ' is-invalid' : '')}\n                    >\n                    {\n                        putSelectOptionsFromArray(currentObj.select_elements)\n                    }\n                    </Field>\n                    <ErrorMessage name={currentObj.name} component=\"div\" className=\"invalid-feedback\" />\n                </div>\n            );\n        case 'text':\n        case 'number':\n        case 'date':\n        case 'email':\n        default:                                \n            return (\n                <div\n                    key={currentObj.name}\n                    className=\"form-group\"\n                >\n                    <label htmlFor={currentObj.name}>{currentObj.label}</label>\n                    <Field \n                        key={currentObj.name} \n                        name={currentObj.name} \n                        type={currentObj.type} \n                        disabled={readOnlyfield} \n                        className={\"form-control\" + (errors[currentObj.name] && touched[currentObj.name] ? ' is-invalid' : '')}\n                    />\n                    <ErrorMessage name={currentObj.name} component=\"div\" className=\"invalid-feedback\" />\n                </div>\n            )\n    }\n}","import { \n    MSG_ERROR_INVALID_TOKEN,\n    MSG_ERROR_CLICK_TO_RELOGIN,\n    MSG_ERROR_CLICK_TO_RETRY,\n    MSG_ERROR_SESSION_EXPIRED\n} from '../_constants/general_constants';\nimport { authenticationService } from '../_services';\nimport React from 'react';\nimport { Button } from 'react-bootstrap';\nimport { history } from '.';\n\nexport function logout() {\n    authenticationService.logout();\n    history.push('/login?redirect='+window.location.pathname);\n};\n\nexport function refreshPage() {\n    window.location.reload();;\n};\n\nexport function errorAndReEnter(errorMessage) {\n    return (\n        <div>\n            { errorAndRetry(errorMessage) }\n            { errorLoginAgain(errorMessage) }\n        </div>\n    );\n}\n\nexport function errorLoginAgain(errorMessage) {\n    if(errorMessage !== MSG_ERROR_INVALID_TOKEN) {\n        return (\n            <div></div>\n        );\n    }\n    return (\n        <div>\n            <br/>\n            <Button onClick={logout}>{MSG_ERROR_CLICK_TO_RELOGIN}</Button>\n        </div>\n    );\n}\n\nexport function errorAndRetry(errorMessage) {\n    return (\n        <div>\n            {errorMessageDiv(\n                (\n                    errorMessage === MSG_ERROR_INVALID_TOKEN\n                    ? MSG_ERROR_SESSION_EXPIRED\n                    : errorMessage\n                )\n            )}\n            <br/>\n            <Button onClick={refreshPage}>{MSG_ERROR_CLICK_TO_RETRY}</Button>\n        </div>\n    );\n}\n\nexport function errorMessageDiv(errorMessage) {\n    return (\n        <div className={'alert alert-danger'}>{errorMessage}</div>\n    );\n}","import React from 'react';\n\nimport { authenticationService } from '../../_services/db.authentication.service';\nimport { errorAndReEnter } from '../../_helpers/error-and-reenter';\nimport { LoginPage } from '../LoginPage/LoginPage';\n// import { getPrefix } from '../../_helpers';\n\nclass HomePage extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            currentUser: authenticationService.currentUserValue,\n            error: null\n        };\n    }\n\n    render() {\n        const { currentUser, error } = this.state;\n\n        return (\n            <div>\n                {!currentUser &&\n                    <LoginPage/>\n                }\n                {currentUser &&\n                    <h1>Hi {currentUser.firstName}!</h1>\n                }\n                {error &&\n                    errorAndReEnter(error)\n                }\n            </div>\n        );\n    }\n}\n\nexport { HomePage };","// import { console_debug_log } from '../../_services';\nimport { GenericEditor, GenericSelectGenerator, GenericSelectDataPopulator } from '../../_services/generic.editor.service';\n\n\nexport function FoodMoments_EditorData() {\n    return {\n        baseUrl: 'food_moments',\n        title: 'Food Moments',\n        name: 'Food Moment',\n        component: FoodMoments,\n        dbApiUrl: 'food_moments',\n        fieldElements: [\n            {\n                name: 'id',\n                required: true,\n                label: 'ID',\n                type: '_id',\n                readonly: true\n            }, \n            {\n                name: 'name',\n                required: true,\n                label: 'Name',\n                type: 'text',\n                readonly: false,\n                listing: true\n            }, \n        ]\n    }\n}\n\n\nexport class FoodMoments extends GenericEditor {\n    \n    getEditorData() {\n        return FoodMoments_EditorData();\n    }\n}\n\n\nexport class FoodMomentsSelect extends GenericSelectGenerator {\n\n    getEditorData() {\n        return FoodMoments_EditorData();\n    }\n}\n\nexport class FoodMomentDataPopulator extends GenericSelectDataPopulator {\n\n    getEditorData() {\n        return FoodMoments_EditorData();\n    }\n}\n","import { GenericEditor } from '../../_services/generic.editor.service';\nimport { FoodMomentsSelect, FoodMomentDataPopulator } from './FoodMoments';\n\n\nexport function UsersFoodTimes_EditorData() {\n    return {\n        baseUrl: 'food_times',\n        title: 'Food Times',\n        name: 'Food Time',\n        component: UsersFoodTimes,\n        dbApiUrl: 'users/user-food-times',\n\n        type: 'child_listing',\n        subType: 'array', // 'array' | 'table'\n        array_name: 'food_times',\n        parentKeyNames: [\n            {\n                parameterName: 'user_id',\n                parentElementName: 'id'\n            }\n        ],\n        primaryKeyName: 'food_moment_id',\n\n        fieldElements: [\n            {\n                name: 'food_moment_id',\n                label: 'Type',\n                required: true,\n                type: 'select_component',\n                dataPopulator: FoodMomentDataPopulator,\n                component: FoodMomentsSelect,\n                listing: true\n            }, \n            {\n                name: 'food_time',\n                required: true,\n                label: 'Time',\n                type: 'text',\n                readonly: false,\n                listing: true\n            }, \n        ]\n    }\n}\n\n\nexport class UsersFoodTimes extends GenericEditor {\n    \n    getEditorData() {\n        return UsersFoodTimes_EditorData();\n    }\n}\n","import { GenericEditor } from '../../_services/generic.editor.service';\nimport { WEIGHT_UNITS } from '../../_constants/users_constants';\n\n\nexport function UsersUserHistory_EditorData() {\n    return {\n        baseUrl: 'user_history',\n        title: 'User History',\n        name: 'User History',\n        component: UsersUserHistory,\n        dbApiUrl: 'users/user-user-history',\n\n        type: 'child_listing',\n        subType: 'array', // 'array' | 'table'\n        array_name: 'user_history',\n        parentKeyNames: [\n            {\n                parameterName: 'user_id',\n                parentElementName: 'id'\n            }\n        ],\n        primaryKeyName: 'date',\n\n        fieldElements: [\n            {\n                name: 'date',\n                label: 'Date',\n                required: true,\n                type: 'date',\n                listing: true,\n            }, \n            {\n                name: 'goals',\n                required: true,\n                label: 'Goals',\n                type: 'text',\n                readonly: false,\n                listing: true,\n            }, \n            {\n                name: 'weight',\n                required: true,\n                label: 'Weight',\n                type: 'number',\n                readonly: false,\n                listing: true,\n            },\n            {\n                name: 'weight_unit',\n                required: true,\n                label: 'Weight Unit',\n                type: 'select',\n                select_elements: WEIGHT_UNITS,\n                readonly: false,\n                listing: true,\n            },\n        ]\n    }\n}\n\n\nexport class UsersUserHistory extends GenericEditor {\n    \n    getEditorData() {\n        return UsersUserHistory_EditorData();\n    }\n}\n","// import React from 'react';\n// import { Table } from 'react-bootstrap'\n// import { Formik, Field, Form, ErrorMessage } from 'formik';\n// import * as Yup from 'yup';\n\nimport { GenericEditor } from '../../_services/generic.editor.service';\nimport { WEIGHT_UNITS, HEIGHT_UNITS } from '../../_constants/users_constants';\nimport { UsersFoodTimes } from './UsersFoodTimes';\nimport { UsersUserHistory } from './UsersUserHistory';\n\nimport { console_debug_log } from '../../_services/loging.service';\n\nexport function Users_EditorData() {\n    return {\n        baseUrl: 'users',\n        title: 'Users',\n        name: 'User',\n        component: Users,\n        dbApiUrl: 'users',\n        fieldElements: [\n            {\n                name: 'id',\n                required: true,\n                label: 'ID',\n                type: '_id',\n                readonly: true\n            }, \n            {\n                name: 'firstname',\n                required: true,\n                label: 'First Name',\n                type: 'text',\n                readonly: false,\n                listing: true\n            }, \n            {\n                name: 'lastname',\n                required: true,\n                label: 'Last Name',\n                type: 'text',\n                readonly: false,\n                listing: true\n            },\n            {\n                name: 'email',\n                required: true,\n                label: 'Email',\n                type: 'email',\n                readonly: false,\n                listing: true\n            },\n            {\n                name: 'training_days',\n                required: true,\n                label: 'Training Days',\n                type: 'text',\n                readonly: false\n            },\n            {\n                name: 'training_hour',\n                required: true,\n                label: 'Training Hour',\n                type: 'text',\n                readonly: false\n            },\n            {\n                name: 'birthday',\n                required: true,\n                label: 'Birthday',\n                type: 'date',\n                readonly: false\n            },\n            {\n                name: 'height',\n                required: true,\n                label: 'Height',\n                type: 'number',\n                readonly: false,\n                listing: true\n            },\n            {\n                name: 'height_unit',\n                required: true,\n                label: 'Height Unit',\n                type: 'select',\n                select_elements: HEIGHT_UNITS,\n                readonly: false,\n                listing: true\n            },\n            {\n                name: 'weight',\n                required: true,\n                label: 'Weight',\n                type: 'number',\n                readonly: false\n            },\n            {\n                name: 'weight_unit',\n                required: true,\n                label: 'Weight Unit',\n                type: 'select',\n                select_elements: WEIGHT_UNITS,\n                readonly: false\n            },\n            {\n                name: 'creation_date',\n                required: true,\n                label: 'Creation Date',\n                type: 'date',\n                readonly: false,\n                hidden: true,\n                default_value: 'current_timestamp',\n                listing: true\n            },\n        ],\n        childComponents: [\n            {\n                name: 'UsersFoodTimes'\n            },\n            {\n                name: 'UsersUserHistory'\n            },\n        ]\n    }\n}\n\nexport class Users extends GenericEditor {\n    \n    getEditorData() {\n        return Users_EditorData();\n    }\n\n    showChildComponents(parentData, childElement) {\n        console_debug_log('USERS showChildComponents | childElement.name: '+childElement.name);\n        switch (childElement.name) {\n            case 'UsersFoodTimes':\n                return (\n                    <UsersFoodTimes key=\"UsersFoodTimes\"\n                        parentData={parentData} childElementData={childElement}\n                    ></UsersFoodTimes>\n                );\n            case 'UsersUserHistory':\n                return (\n                    <UsersUserHistory key=\"UsersUserHistory\"\n                        parentData={parentData} childElementData={childElement}\n                    ></UsersUserHistory>\n                );\n            default:\n                return ('');\n        }\n    }\n\n}\n","import React from 'react';\nimport { Router, Route } from 'react-router-dom';\nimport { Navbar, NavDropdown, Container, Nav } from 'react-bootstrap';\n\nimport { history } from '../../_helpers';\n// import { console_debug_log } from '../../_services';\n// import { PrivateRoute } from '../../_components/Helpers/PrivateRoute';\nimport { authenticationService } from '../../_services';\nimport { HomePage } from '../../_components/HomePage/HomePage';\nimport { Users_EditorData } from '../SuperAdminOptions/Users';\nimport { FoodMoments_EditorData } from '../SuperAdminOptions/FoodMoments';\nimport { LoginPage } from '../../_components/LoginPage/LoginPage';\nimport { getPrefix } from '../../_helpers';\n\nclass App extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            currentUser: null,\n        };\n    }\n\n    componentDidMount() {\n        authenticationService.currentUser.subscribe(\n            x => this.setState({ currentUser: x })\n        );\n    }\n\n    logout() {\n        authenticationService.logout();\n        history.push(getPrefix()+'/login');\n    }\n\n    render() {\n        const { currentUser } = this.state;\n        return (\n            <Router history={history}>\n                <div>\n                    {currentUser &&\n                        <Navbar className=\"navbar-dark bg-dark\" expand=\"lg\">\n                            <Container>\n                                <Navbar.Brand href={getPrefix()+\"/\"}>FynApp</Navbar.Brand>\n                                <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\n                                <Navbar.Collapse id=\"basic-navbar-nav\">\n                                    <Nav className=\"me-auto\">\n                                        <Nav.Link href={getPrefix()+\"/\"}>Home</Nav.Link>\n                                        <NavDropdown title=\"Admin\" id=\"basic-nav-dropdown\">\n                                            { editorMenuOption(Users_EditorData()) }\n                                            { editorMenuOption(FoodMoments_EditorData()) }\n                                        </NavDropdown>\n                                    </Nav>\n                                </Navbar.Collapse>\n                                <Navbar.Collapse id=\"current-user-navbar-nav\" className=\"justify-content-end\">\n                                    <Navbar.Text>Signed in as:</Navbar.Text>\n                                    <NavDropdown title={currentUser.firstName} id=\"basic-nav-dropdown\">\n                                        <NavDropdown.Item href={getPrefix()+\"#profile\"}>Profile</NavDropdown.Item>\n                                        <NavDropdown.Item href={getPrefix()+\"#preferences\"}>Preferences</NavDropdown.Item>\n                                        <NavDropdown.Divider />\n                                        <NavDropdown.Item onClick={this.logout}>Logout</NavDropdown.Item>\n                                    </NavDropdown>\n                                </Navbar.Collapse>\n                            </Container>\n                        </Navbar>\n                    }\n                </div>\n                <div>\n                    <div className=\"jumbotron\">\n                        <div className=\"container\">\n                            <div className=\"row\">\n                                <div className=\"col-md-6\">\n                                    <div>\n                                        <Route exact path=\"/\" component={HomePage} />\n                                        <Route exact path={getPrefix()+\"/\"} component={HomePage} />\n                                    </div>\n                                    <div>\n                                    </div>\n                                    <div>\n                                        <Route path=\"/login\" component={LoginPage} />\n                                        <Route path={getPrefix()+\"/login\"} component={LoginPage} />\n                                    </div>\n                                    { editorRoute(Users_EditorData()) }\n                                    { editorRoute(FoodMoments_EditorData()) }\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </Router>\n        );\n    }\n}\n\n\nfunction editorRoute(editor) {\n    return (\n        <Route exact path={getPrefix()+'/'+editor.baseUrl} component={editor.component} />\n    );\n}\n\nfunction editorMenuOption(editor) {\n    return (\n        <>\n            <NavDropdown.Item href={getPrefix()+'/'+editor.baseUrl}>{editor.title}</NavDropdown.Item>\n        </>\n    );\n}\n\nexport { App };","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n// import './index.css';\n// import App from './App';\nimport { App } from './_components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}