{"version":3,"sources":["_services/loging.service.js","_constants/general_constants.js","_services/db.authentication.service.js","_helpers/auth-header.js","_constants/users_constants.js","_services/generic.editor.service.js","_helpers/error-and-reenter.js","_helpers/history.js","_helpers/url-params.js","_components/Helpers/PrivateRoute.jsx","_components/HomePage/HomePage.jsx","_components/SuperAdminOptions/FoodMoments.jsx","_components/SuperAdminOptions/UsersFoodTimes.jsx","_components/SuperAdminOptions/UsersUserHistory.jsx","_components/SuperAdminOptions/Users.jsx","_components/LoginPage/LoginPage.jsx","_components/App/App.jsx","reportWebVitals.js","index.jsx"],"names":["console_debug_log","debug_message","window","fynapp_local_debug","process","hasOwnProperty","get_debug_flag","console","log","MSG_ERROR_INVALID_TOKEN","WAIT_ANIMATION_IMG","MSG_ALT_WAIT_ANIMATION","ACTION_CREATE","ACTION_READ","ACTION_UPDATE","ACTION_DELETE","ACTION_LIST","MSG_DELETE_CONFIRM","MSG_ACTION_CREATE","MSG_ACTION_UPDATE","MSG_ACTION_DELETE","MSG_ACTION_CANCEL","MSG_SELECT_AN_OPTION","currentUserSubject","BehaviorSubject","JSON","parse","localStorage","getItem","authenticationService","login","username","password","requestOptions","method","headers","btoa","userService","dbApiService","url","fetch","then","handleResponse","handleFetchError","res","error","Promise","reject","message","user","id","convertId","resultset","_id","email","firstName","firstname","lastName","lastname","token","setItem","stringify","next","logout","removeItem","currentUser","asObservable","currentUserValue","value","response","text","str","e","IsJsonString","data","ok","indexOf","status","location","reload","statusText","error_message","reason","props","apiUrl","this","authHeader","authAndJsonHeader","Object","assign","params","urlQuery","entries","map","key","paramsToUrlQuery","action","queryParams","createRow","updateRow","deleteRow","body","$oid","WEIGHT_UNITS","title","HEIGHT_UNITS","fontawesome","library","add","faPlus","faEye","faEdit","faTrashAlt","faCheck","faList","GenericEditor","dbService","editor","componentSelectFieldsOptionsPromises","handleReadClick","currentTarget","target","setNewError","setNewAction","handleNewClick","handleEditClick","handleDeleteClick","handleSaveClick","handleCancelClick","getEditorData","urlParams","getUrlParams","childComponents","primaryKeyName","parentKeyNames","type","subType","array_name","parentData","setParentData","getComponentSelectFieldsOptions","fieldElements","state","initialState","dbApiUrl","name","initialProps","showModalPopUp","actionCapitalized","toString","toLowerCase","editorFlags","isEdit","isCreate","isRead","isUpdate","isDelete","dbObject","setState","newAction","newId","dbRetrieve","nextProps","nextState","newState","accessKeysDataScreen","parentFilter","getOne","currentRowDataset","accessKeysListing","getAll","listingDataset","src","alt","errorMessage","getErrorMessage","errorAndReEnter","showWaitAnimation","Array","isArray","readAction","updateAction","deleteAction","listAction","editAction","rowIndex","rowId","Table","striped","bordered","hover","filter","htmlElement","currentObj","listing","label","colSpan","className","onClick","icon","dbRow","getSelectDescription","getEditorFlags","getFieldElementsDbValues","editForm_Fornik_Final","iterateChildComponents","valueToSet","dataset","setShowModalWindow","handleClose","iframeTitle","Modal","show","onHide","Title","Body","style","width","height","Footer","variant","initialFieldValues","componentSelectFieldsOptions","promiseResult","options_array","enableReinitialize","initialValues","validationSchema","Yup","shape","getFieldElementsRequiredYupStype","onSubmit","submitedtElements","setStatus","setSubmitting","saveRowToDatabase","result","errors","touched","isSubmitting","putOneFormfield","align","disabled","showChildComponents","childElement","rowToSave","keyPair","parameterName","parentElementName","createUpdateDelete","dataPopulator","dataPopulatorObj","getData","datasetRaw","defaultValues","verifyElementExistence","fieldElementsListObj","element","required","newParentFilter","React","Component","GenericSelectGenerator","db_rows","show_description","catch","selectOptions","option","GenericSelectDataPopulator","title_field_name","value_field_name","returnData","returnValue","i","currentElement","putSelectOptionsFromArray","select_array_elements","emptyElement","component","select_elements","readOnlyfield","readonly","array_options","htmlFor","as","history","push","pathname","refreshPage","errorAndRetry","errorLoginAgain","Button","errorMessageDiv","createBrowserHistory","search","searchString","substring","slice","keyPairs","split","keyPairString","KeyValueArray","match","PrivateRoute","rest","render","to","from","HomePage","FoodMoments_EditorData","baseUrl","FoodMoments","FoodMomentsSelect","FoodMomentDataPopulator","UsersFoodTimes","UsersUserHistory","Users_EditorData","Users","hidden","default_value","childElementData","LoginPage","redirect","App","subscribe","x","Navbar","expand","Container","Brand","href","Toggle","Collapse","Nav","Link","NavDropdown","editorMenuOption","Text","Item","Divider","exact","path","editorRoute","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.1daa446e.chunk.js","sourcesContent":["export function console_debug_log(debug_message) {\n    if(get_debug_flag() === true) {\n        console.log(debug_message);\n    }\n}\n\nexport function get_debug_flag() {\n    if(typeof window.fynapp_local_debug === 'undefined') {\n        if(process.env.hasOwnProperty('REACT_APP_DEBUG')) {\n            window.fynapp_local_debug = (process.env.REACT_APP_DEBUG === '1');\n        } else {\n            window.fynapp_local_debug = false;\n        }\n    }\n    return window.fynapp_local_debug;\n}","// Security\nexport const MSG_ERROR_INVALID_TOKEN = 'token is invalid';\nexport const MSG_ERROR_SESSION_EXPIRED = 'Session expired.';\nexport const MSG_ERROR_CLICK_TO_RELOGIN = 'Click here to login again.';\nexport const MSG_ERROR_CLICK_TO_RETRY = 'Click here to retry';\n// Database\nexport const MSG_ERROR_CONNECTION_FAIL = 'Connection failure'\n// General\nexport const WAIT_ANIMATION_IMG = \"data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==\";\nexport const MSG_ALT_WAIT_ANIMATION = 'Wait...';\n// Generic editor : general constants\nexport const ACTION_CREATE =  'create';\nexport const ACTION_READ = 'read';\nexport const ACTION_UPDATE = 'update';\nexport const ACTION_DELETE = 'delete';\nexport const ACTION_LIST = 'list';\n// Generic editor : messages\nexport const MSG_ERROR_MISSING_ARRAY_NAME_PARAM = 'Missing \"array_name\" parameter. It must be specified for subType \"array\".';\nexport const MSG_ERROR_ID_NOT_FOUND = 'ID not found...';\nexport const MSG_DELETE_CONFIRM = 'Are you sure to delete this element? Please confirm with the [Delete] button or [Cancel] this operation.';\nexport const MSG_ACTION_CREATE =  'Create';\nexport const MSG_ACTION_NEW =  'New';\nexport const MSG_ACTION_READ = 'View';\nexport const MSG_ACTION_EDIT = 'Edit';\nexport const MSG_ACTION_UPDATE = 'Update';\nexport const MSG_ACTION_DELETE = 'Delete';\nexport const MSG_ACTION_LIST = 'Listing';\nexport const MSG_ACTION_CANCEL = 'Cancel';\nexport const MSG_SELECT_AN_OPTION = 'Select an option...';\n\n","import { console_debug_log } from './loging.service';\nimport { authHeader } from '../_helpers/auth-header';\nimport {\n    ACTION_CREATE, \n    ACTION_UPDATE, \n    ACTION_DELETE, \n    MSG_ERROR_CONNECTION_FAIL,\n} from '../_constants/general_constants';\n\nimport { BehaviorSubject } from 'rxjs';\n\nconst currentUserSubject = new BehaviorSubject(JSON.parse(localStorage.getItem('currentUser')));\n\nexport const authenticationService = {\n    login,\n    logout,\n    currentUser: currentUserSubject.asObservable(),\n    get currentUserValue () { return currentUserSubject.value }\n};\n\nfunction login(username, password) {\n    let config = {\n        apiUrl: process.env.REACT_APP_API_URL\n    }\n    const requestOptions = {\n        method: 'POST',\n        headers: { \"Authorization\":  \"Basic \" + btoa(username + \":\" + password) },\n        // headers: { \"Authorization\":  \"Basic \" + (username + \":\" + password).toString('base64') },\n        // headers: { \"Authorization\":  \"Basic \" + Base64.btoa(username + \":\" + password) },\n    };\n    let userService = new dbApiService({url: 'users'})\n    return fetch(`${config.apiUrl}/users/login`, requestOptions)\n        .then(handleResponse, handleFetchError)\n        .then(res => {\n            if(res.error) {\n                return Promise.reject(res.message);\n            }\n            let user = {\n                id: userService.convertId(res.resultset._id),\n                username: res.resultset.username,\n                email: res.resultset.email,\n                firstName: res.resultset.firstname,\n                lastName: res.resultset.lastname,\n                token: res.resultset.token\n            };\n            // store user details and jwt token in local storage to keep user logged in between page refreshes\n            localStorage.setItem('currentUser', JSON.stringify(user));\n            currentUserSubject.next(user);\n            return user;\n        });\n}\n\nfunction logout() {\n    // remove user from local storage to log user out\n    localStorage.removeItem('currentUser');\n    currentUserSubject.next(null);\n}\n\n// -------------\n\nexport function handleResponse(response) {\n    return response.text().then(text => {\n        if (!IsJsonString(text)) {\n            return Promise.reject(text);\n        }\n        // const location = useLocation();\n        const data = text && JSON.parse(text);\n        if (!response.ok) {\n            // console_debug_log('..--> handleResponse() | response NO ok... / response.statu ='+response.statu);\n            if ([401, 403].indexOf(response.status) !== -1) {\n                // auto logout if 401 Unauthorized or 403 Forbidden response returned from api\n                authenticationService.logout();\n                window.location.reload(true);\n            }\n\n            const error = (data && data.message) || response.statusText;\n            // console_debug_log('..--> handleResponse() | response NO ok... / error =');\n            // console_debug_log(error);\n            return Promise.reject(error);\n        } else {\n            // console_debug_log('..--> handleResponse() | response.ok... / data =');\n            // console_debug_log(data);\n            if(typeof data.error == 'undefined') {\n                data.error = false;\n            }\n            if(typeof data.error_message != 'undefined') {\n                data.message = data.error_message;\n            }\n            if(typeof data.resultset != 'undefined' && typeof data.resultset != 'object') {\n                // When the data.resultset has an array of records (objects) instead of a sigle object, it comes as an encapsulated string\n                // console_debug_log('..--> handleResponse() | typeof data.resultset: ' + (typeof data.resultset) + ' | data.resultset BEFORE =');\n                // console_debug_log(data.resultset);\n                data.resultset = JSON.parse(data.resultset);\n            }\n            // console_debug_log('..--> handleResponse() | data.resultset =');\n            // console_debug_log(data.resultset);\n        }\n\n        return data;\n    });\n}\n\nexport function handleFetchError(reason) {\n    return {error: true, message: MSG_ERROR_CONNECTION_FAIL, reason: reason};\n}\n\nfunction IsJsonString(str) {\n    try {\n        JSON.parse(str);\n    } catch (e) {\n        return false;\n    }\n    return true;\n}\n\n// -------------\n\n// import config from 'config';\n\nexport class dbApiService {\n    \n    constructor(props) {\n        this.props = props;\n     \n        this.props.authHeader = authHeader();\n        this.props.authAndJsonHeader = Object.assign(\n            {}, \n            { \n                'Content-Type': 'application/json',\n                'Access-Control-Allow-Origin': '*'\n            }, \n            this.props.authHeader\n        );\n\n        // console_debug_log('dbApiService - process = ');\n        // console_debug_log(process);\n        // console_debug_log('this.apiUrl = '+this.apiUrl);\n        // console_debug_log('dbServices - this.props.authAndJsonHeader:');\n        // console_debug_log(this.props.authAndJsonHeader);\n    }\n\n    props = null;\n    apiUrl = process.env.REACT_APP_API_URL;\n    // apiUrl = config.apiUrl;\n\n    paramsToUrlQuery(params) {\n        let urlQuery = '';\n        Object.entries(params).map(([key, value]) => (\n            urlQuery += ((urlQuery === '' ? '?' : '&') + key + '=' + value)\n        ));\n        return urlQuery;\n    }\n\n    getAll(params=[]) {\n        const requestOptions = { method: 'GET', headers: this.props.authHeader };\n        const urlQuery = this.paramsToUrlQuery(params);\n        // console_debug_log('dbServices::getAll() - urlQuery: ');\n        // console_debug_log(urlQuery);\n        let response = fetch(`${this.apiUrl}/${this.props.url}${urlQuery}`, requestOptions)\n                .then(handleResponse, handleFetchError);\n        return response;\n    }\n\n    getOne(params) {\n        const requestOptions = { method: 'GET', headers: this.props.authHeader };\n        const urlQuery = this.paramsToUrlQuery(params);\n        // console_debug_log('dbServices::getOne() - urlQuery: ');\n        // console_debug_log(urlQuery);\n        let response = fetch(`${this.apiUrl}/${this.props.url}${urlQuery}`, requestOptions)\n                .then(handleResponse, handleFetchError);\n        return response;\n    }\n\n    createUpdateDelete(action, id, data, queryParams=[]) {\n        switch(action) {\n            case ACTION_CREATE:\n                return this.createRow(data, queryParams);\n            case ACTION_UPDATE:\n                return this.updateRow(id, data, queryParams);\n            case ACTION_DELETE:\n                return this.deleteRow(id, data, queryParams);\n            default:\n                return handleFetchError('Error CUD-1 - Invalid action: '+action)\n        }\n    }\n\n    createRow(data, queryParams=[]) {\n        const urlQuery = this.paramsToUrlQuery(queryParams);\n        // console_debug_log('dbServices::createRow() - data:');\n        // console_debug_log(data);\n        // console_debug_log('dbServices::createRow() - this.props.authAndJsonHeader:');\n        // console_debug_log(this.props.authAndJsonHeader);\n        const requestOptions = { \n            method: 'POST',\n            headers: this.props.authAndJsonHeader,\n            body: JSON.stringify(data)\n        };\n        let response = fetch(`${this.apiUrl}/${this.props.url}${urlQuery}`, requestOptions)\n                .then(handleResponse, handleFetchError);\n        return response;\n    }\n\n    updateRow(id, data, queryParams=[]) {\n        const urlQuery = this.paramsToUrlQuery(queryParams);\n        if(id !== null) {\n            data.id = id;\n        }\n        // console_debug_log('dbServices::updateRow() - id: '+id+' | data:');\n        // console_debug_log(data);\n        const requestOptions = { \n            method: 'PUT',\n            headers: this.props.authAndJsonHeader,\n            body: JSON.stringify(data)\n        };\n        let response = fetch(`${this.apiUrl}/${this.props.url}${urlQuery}`, requestOptions)\n                .then(handleResponse, handleFetchError);\n        return response;\n    }\n\n    deleteRow(id, data, queryParams=[]) {\n        let urlQuery = this.paramsToUrlQuery(queryParams);\n        if(id !== null) {\n            urlQuery += (urlQuery === '' ? '?' : \"&\")+`id=${id}`;\n        }\n        const requestOptions = { \n            method: 'DELETE',\n            headers: this.props.authAndJsonHeader,\n            body: JSON.stringify(data)\n        };\n        console_debug_log('dbServices::deleteRow() - id: '+id);\n        console_debug_log('dbServices::deleteRow() - urlQuery: '+urlQuery);\n        console_debug_log('dbServices::deleteRow() - data:');\n        console_debug_log(data);\n        console_debug_log('dbServices::deleteRow() - requestOptions:');\n        console_debug_log(requestOptions);\n        let response = fetch(\n                `${this.apiUrl}/${this.props.url}${urlQuery}`, \n                requestOptions\n            )\n            .then(handleResponse, handleFetchError);\n        return response;\n    }\n\n    convertId(id) {\n        return (id === null || id ==='' || typeof id === 'string' ? id : id.$oid);\n    }\n}\n","import { authenticationService } from '../_services/db.authentication.service';\n\nexport function authHeader() {\n    // return authorization header with jwt token\n    const currentUser = authenticationService.currentUserValue;\n    if (currentUser && currentUser.token) {\n        // return { Authorization: `Bearer ${currentUser.token}` };\n        let headers = { 'x-access-tokens': currentUser.token };\n        return headers;\n    } else {\n        return {};\n    }\n}","export const WEIGHT_UNITS = [\n    { title: 'Kg', value: 'kg' },\n    { title: 'Pounds', value: 'lb' },\n];\nexport const HEIGHT_UNITS = [\n    { title: 'Meters', value: 'm' },\n    { title: 'Inches', value: 'i' },\n];\n","import { errorAndReEnter, getUrlParams } from '../_helpers';\nimport { dbApiService } from '../_services';\nimport { authenticationService } from '../_services';\nimport { console_debug_log } from './loging.service';\nimport {    ACTION_CREATE, \n            ACTION_READ, \n            ACTION_UPDATE, \n            ACTION_DELETE, \n            ACTION_LIST, \n            WAIT_ANIMATION_IMG, \n            MSG_ERROR_INVALID_TOKEN,\n            MSG_ERROR_MISSING_ARRAY_NAME_PARAM,\n            MSG_ERROR_ID_NOT_FOUND,\n            MSG_DELETE_CONFIRM,\n            MSG_ALT_WAIT_ANIMATION,\n            MSG_ACTION_CREATE,\n            MSG_ACTION_NEW,\n            MSG_ACTION_READ,\n            MSG_ACTION_UPDATE,\n            MSG_ACTION_EDIT,\n            MSG_ACTION_DELETE,\n            MSG_ACTION_LIST,\n            MSG_ACTION_CANCEL,\n            MSG_SELECT_AN_OPTION,\n        } from '../_constants';\n\nimport React from 'react';\n\n    import { Modal } from \"react-bootstrap\";\n\nimport { Formik, Field, Form, ErrorMessage } from 'formik';\nimport * as Yup from 'yup';\nimport { Table } from 'react-bootstrap'\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport fontawesome from '@fortawesome/fontawesome'\nimport { faPlus, faEye, faEdit, faTrashAlt, faCheck, faList } from '@fortawesome/fontawesome-free-solid'\nfontawesome.library.add(faPlus, faEye, faEdit, faTrashAlt, faCheck, faList);\n\nexport class GenericEditor extends React.Component {\n\n    dbService = null;\n    editor = null;\n    componentSelectFieldsOptionsPromises = null;\n\n    constructor(props) {\n        super(props);\n\n        this.editor = this.getEditorData();\n        this.editor.urlParams = getUrlParams(this.props);\n\n        // Get primary key 'id' from URL query parameters\n        let id = (typeof this.editor.urlParams.id === 'undefined' ? null : this.editor.urlParams.id);\n\n        // Get 'action' from URL query parameters, defaulting it to Listing state\n        let action = (typeof this.editor.urlParams.action === 'undefined' ? ACTION_LIST : this.editor.urlParams.action);\n\n        // To cllect any error on this constructor and stop processing of this component\n        let error = '';\n\n        // Child components\n        if (typeof this.editor.childComponents == 'undefined') {\n            this.editor.childComponents = [];\n        }\n        // Primary Key parameter name for API calls\n        if (typeof this.editor.primaryKeyName == 'undefined') {\n            this.editor.primaryKeyName = 'id';\n        }\n        // Parent Key Names, for child listing\n        if (typeof this.editor.parentKeyNames == 'undefined') {\n            this.editor.parentKeyNames = [];\n        }\n        // Editor type\n        if (typeof this.editor.type == 'undefined') {\n            this.editor.type = 'master_listing'; // 'master_listing' | 'child_listing'\n        }\n        // Editor sub-type: 'array' is for arrays elements in tables of child listing\n        if (typeof this.editor.subType == 'undefined') {\n            this.editor.subType = 'table'; // 'array' | 'table'\n        }\n        // Array name for those 'array' type child listing. These elements are inside a real table.\n        if (typeof this.editor.array_name == 'undefined' &&\n            this.editor.subType === 'array') {\n            // No default value for the array name\n            // this.editor.array_name = this.editor.baseUrl\n            error = MSG_ERROR_MISSING_ARRAY_NAME_PARAM; // 'Missing \"array_name\" parameter. It must be specified for subType \"array\".';\n        }\n\n        // Filters for child components\n        let parentData = {};\n        if(typeof this.props.parentData !== 'undefined') {\n            parentData = this.props.parentData;\n        }\n        this.setParentData(parentData);\n\n        this.getComponentSelectFieldsOptions(this.editor.fieldElements);\n\n        // Set initial state\n        this.state = this.initialState({id: id, action: action, editor: this.editor, error: error});\n\n        this.dbService = new dbApiService({url: this.editor.dbApiUrl})\n\n        console_debug_log('Constructor | '+ this.editor.name +' |');\n        console_debug_log('this.props:');\n        console_debug_log(this.props);\n        console_debug_log('this.editor:');\n        console_debug_log(this.editor);\n    }\n\n    getEditorData() {\n        return {};\n    }\n\n    initialState(initialProps) {\n        let initialState = {\n            currentUser: authenticationService.currentUserValue,\n            id: initialProps.id,\n            action: initialProps.action,\n            editor: initialProps.editor,\n            error: (initialProps.error === '', null, initialProps.error),\n            showModalPopUp: true\n        };\n        initialState.listingDataset = null;\n        initialState.currentRowDataset = null;\n        return initialState;\n    }\n\n    getEditorFlags(actionCapitalized) {\n        let action = actionCapitalized.toString().toLowerCase();\n        let editorFlags = {};\n        editorFlags.isEdit = (action === ACTION_UPDATE || action === ACTION_CREATE);\n        editorFlags.isCreate = (action === ACTION_CREATE);\n        editorFlags.isRead = (action === ACTION_READ);\n        editorFlags.isUpdate = (action === ACTION_UPDATE);\n        editorFlags.isDelete = (action === ACTION_DELETE);\n        return editorFlags;\n    }\n\n    getErrorMessage(dbObject, error) {\n        return (\n            (dbObject && dbObject.error) ? dbObject.message : \n                (error) ? error : \n                    (dbObject === MSG_ERROR_INVALID_TOKEN) ? dbObject : null\n        );\n    } \n\n    setNewError(error) {\n        this.setState({ \n            error: error,\n        }\n        , () => {\n                // console_debug_log('*** setNewError - this.state.error: ' + this.state.error)\n            }\n        );\n    }\n\n    setNewAction(newAction, newId) {\n        this.setState({ \n            action: newAction,\n            id: newId\n        }\n        , () => {\n                // console_debug_log('*** setNewAction - this.state.action: ' + this.state.action)\n                // console_debug_log('*** setNewAction - this.state.id: '+this.state.id)\n                if(this.state.action !== ACTION_CREATE) {\n                    this.dbRetrieve(this.state);\n                }\n            }\n        );\n    }\n\n    handleReadClick = (e) => {\n        // console_debug_log('handleReadClick');\n        let id = e.currentTarget.value;\n        if(typeof id === 'undefined') {\n            id = e.target.value;\n        }\n        if(typeof id === 'undefined') {\n            this.setNewError(MSG_ERROR_ID_NOT_FOUND); // 'ID not found...'\n        } else {\n            this.setNewAction(ACTION_READ, e.currentTarget.value);\n        }\n    };\n\n    handleNewClick = (e) => {\n        // console_debug_log('handhandleNewClickleReadClick');\n        this.setNewAction(ACTION_CREATE, null);\n    };\n\n    handleEditClick = (e) => {\n        // console_debug_log('handleEditClick');\n        this.setNewAction(ACTION_UPDATE, e.currentTarget.value);\n    };\n\n    handleDeleteClick = (e) => {\n        // console_debug_log('handleDeleteClick');\n        this.setNewAction(ACTION_DELETE, e.currentTarget.value);\n    };\n\n    handleSaveClick = (e) => {\n        // console_debug_log('handleSaveClick');\n        this.setNewAction('save', e.currentTarget.value);\n    };\n\n    handleCancelClick = (e) => {\n        // console_debug_log('handleCancelClick');\n        this.setNewAction(ACTION_LIST, null);\n    };\n\n    componentDidMount() {\n        // console_debug_log('1.1 >> componentDidMount de '+this.state.editor.name+'() - id: '+this.state.id+' | action: '+this.state.action);\n        this.dbRetrieve(this.state);\n    }\n \n    componentDidCatch() {\n        // console_debug_log('1.2 >> componentDidCatch de '+this.state.editor.name+'() - id: '+this.state.id);\n    }\n                          \n    componentWillUnmount() {\n        // console_debug_log('1.4 >> componentWillUnmount de '+this.state.editor.name+'() - id: '+this.state.id);\n    }\n\n    shouldComponentUpdate(nextProps, nextState) {\n        // console_debug_log('1.5 >> shouldComponentUpdate de '+this.state.editor.name+'() - id: '+this.state.id+' | action: '+this.state.action);\n\n        // let refreshed = nextState.id != this.state.id || nextState.action != this.state.action || this.state.listingDataset === null;\n        let refreshed = nextState !== this.state;\n        if(refreshed) {\n            // console_debug_log('>>-> shouldComponentUpdate = True');\n            return true;\n        }\n        if(nextState.error) {\n            // console_debug_log('>>-> shouldComponentUpdate = True por Error');\n            return true;\n        }\n        // console_debug_log('>>-> shouldComponentUpdate = False by Default');\n        return false;\n    }\n\n    dbRetrieve(newState) {\n        // console_debug_log('* * * dbRetrieve of '+this.state.editor.name+' | action: '+newState.action + ' | this.state:');\n        // console_debug_log(this.state);\n        const { editor } = this.state;\n\n        switch(newState.action) {\n\n            case ACTION_READ:\n            case ACTION_UPDATE:\n            case ACTION_DELETE:\n                let accessKeysDataScreen = {}\n                accessKeysDataScreen[editor.primaryKeyName] = newState.id;\n                accessKeysDataScreen = Object.assign({}, accessKeysDataScreen, editor.parentFilter);\n                // console_debug_log('dbRetrieve | '+editor.name+' | GETONE - Begin... | id: '+newState.id + ' | accessKeysDataScreen: ');\n                // console_debug_log(accessKeysDataScreen);\n                this.dbService.getOne(accessKeysDataScreen)\n                    .then(\n                        currentRowDataset => this.setState({ currentRowDataset }),\n                        error => this.setState({ error })\n                    );\n                // console_debug_log('dbRetrieve | '+editor.name+' | GETONE - End...');\n                break;\n\n            case ACTION_LIST:\n                let accessKeysListing = {}\n                accessKeysListing = Object.assign({}, accessKeysListing, editor.parentFilter);\n                // console_debug_log('dbRetrieve | '+editor.name+' | ACTION_LIST GETALL - Begin... | accessKeysListing');\n                // console_debug_log(accessKeysListing);\n                this.dbService.getAll(accessKeysListing)\n                    .then(\n                        listingDataset => this.setState({ listingDataset }),\n                        error => this.setState({ error })\n                    );\n                // console_debug_log('dbRetrieve | '+editor.name+' | ACTION_LIST GETALL - End...');\n                this.setState({ \n                    currentRowDataset: null\n                });\n                break;\n\n            default:\n                // console_debug_log('dbRetrieve NOTHING...');\n                break;\n        }\n    }\n\n    showWaitAnimation() {\n        return (\n            <div>\n                <center>\n                    <img src={WAIT_ANIMATION_IMG} alt={MSG_ALT_WAIT_ANIMATION}/>\n                </center>\n            </div>\n        );\n    }\n\n    render() {\n        const { action, currentRowDataset, listingDataset, error } = this.state;\n        let errorMessage = this.getErrorMessage(\n            (action === ACTION_LIST ? listingDataset : currentRowDataset), \n            error\n        );\n        // console_debug_log('*/*/* '+this.state.editor.name+'-render | action: '+action+' | @--currentRowDataset: ');\n        // console_debug_log('this.editor.render() | currentRowDataset:');\n        // console_debug_log(currentRowDataset);\n        if (errorMessage) {\n            return errorAndReEnter(errorMessage);\n        }\n        if (action !== ACTION_LIST && action !== ACTION_CREATE && currentRowDataset === null) {\n            // console_debug_log('*/*/* '+this.state.editor.name+'-render | ESPERA # 1');\n            return this.showWaitAnimation();\n        }\n        // console_debug_log('render() | '+this.state.editor.name+' | listingDataset:');\n        // console_debug_log(listingDataset);\n        if (action === ACTION_LIST &&\n                (   listingDataset === null || \n                    typeof listingDataset.resultset === 'undefined' ||\n                    ! Array.isArray(listingDataset.resultset)\n                )\n        ) {\n            // console_debug_log('*/*/* '+this.state.editor.name+'-render | ESPERA # 2');\n            return this.showWaitAnimation();\n        }\n        switch(action) {\n            case ACTION_READ:\n                return this.readAction()\n            case ACTION_CREATE:\n                return this.newAction()\n            case ACTION_UPDATE:\n                return this.updateAction()\n            case ACTION_DELETE:\n                return this.deleteAction()\n            case ACTION_LIST:\n                return this.listAction()\n            default:\n                break;\n        }\n    }\n\n    newAction() {\n        return this.editAction(MSG_ACTION_NEW, ACTION_CREATE);\n    }\n\n    readAction() {\n        return this.editAction(MSG_ACTION_READ, ACTION_READ);\n    }\n\n    updateAction() {\n        return this.editAction(MSG_ACTION_EDIT, ACTION_UPDATE);\n    }\n\n    deleteAction() {\n        return this.editAction(MSG_ACTION_DELETE, ACTION_DELETE);\n    }\n\n    listAction() {\n        const { listingDataset, error, editor } = this.state;\n\n        let errorMessage = this.getErrorMessage(listingDataset, error);\n\n        // console_debug_log('listAction | listingDataset object:');\n        // console_debug_log(listingDataset);\n        // console_debug_log('listAction | errorMessage: ' + errorMessage);\n        \n        let rowIndex = 1;\n        let rowId = null;\n\n        return (\n            <div>\n                <h3>{editor.title + ' - ' + MSG_ACTION_LIST}</h3>\n                {errorMessage &&\n                    errorAndReEnter(errorMessage)\n                }\n                {!errorMessage && listingDataset &&\n                    <Table striped bordered hover>\n                        <thead>\n                            <tr>\n                                <th key=\"#\">#</th>\n                                {\n                                    Object.entries(editor.fieldElements)\n                                        .filter(function(htmlElement) {\n                                            let currentObj = htmlElement[1];\n                                            if(typeof currentObj.listing === 'undefined') {\n                                                return false;\n                                            }\n                                            if(!currentObj.listing) {\n                                                return false;\n                                            }\n                                            return true;\n                                        })\n                                        .map(function(htmlElement) {\n                                            let currentObj = htmlElement[1];\n                                            return (\n                                <th key={currentObj.name}>{currentObj.label}</th>\n                                            )\n                                        })\n                                }\n                                <th colSpan=\"2\"></th>\n                                <td key=\"CreateButton\">\n                                    <button\n                                        className=\"btn btn-primary\"\n                                        onClick={this.handleNewClick}\n                                    >\n                                    <FontAwesomeIcon icon=\"plus\" />\n                                    </button>\n                                </td>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            {listingDataset.resultset.map(dbRow => \n                                (rowId = \n                                    (\n                                        typeof dbRow._id === 'undefined' ? \n                                            dbRow[editor.primaryKeyName]\n                                        :\n                                            this.dbService.convertId(dbRow._id)\n                                    )\n                                ) && \n                                <tr key={rowId}>\n                                    <td key=\"#\">\n                                        {rowIndex++}\n                                    </td>\n                                    {\n                                        Object.entries(editor.fieldElements)\n                                        .filter(function(htmlElement) {\n                                            let currentObj = htmlElement[1];\n                                            if(typeof currentObj.listing === 'undefined') {\n                                                return false;\n                                            }\n                                            if(!currentObj.listing) {\n                                                return false;\n                                            }\n                                            return true;\n                                        })\n                                        .map(function(htmlElement) {\n                                            let currentObj = htmlElement[1];\n                                            return (\n                                                <td key={currentObj.name}>{ \n                                                    getSelectDescription(currentObj, dbRow)\n                                                }</td>\n                                            )\n                                        })\n                                    }\n                                    <td key=\"ReadButton\">\n                                        <button\n                                            className=\"btn btn-primary\"\n                                            onClick={this.handleReadClick}\n                                            value={rowId}\n                                        >\n                                        <FontAwesomeIcon icon=\"eye\" />\n                                        </button>\n                                    </td>\n                                    <td key=\"EditButton\">\n                                        <button\n                                            className=\"btn btn-primary\"\n                                            onClick={this.handleEditClick}\n                                            value={rowId}\n                                        >\n                                        <FontAwesomeIcon icon=\"edit\" />\n                                        </button>\n                                    </td>\n                                    <td key=\"DeleteButton\">\n                                        <button\n                                            className=\"btn btn-primary\"\n                                            onClick={this.handleDeleteClick}\n                                            value={rowId}\n                                        >\n                                        <FontAwesomeIcon icon=\"trash\" />\n                                        </button>\n                                    </td>\n                                </tr>\n                            )}\n                        </tbody>\n                    </Table>\n                }\n            </div>\n        );\n    }\n\n    editAction(title, action) {\n        const { editor } = this.state;\n        const editorFlags = this.getEditorFlags(action);\n        let currentRowDataset = {\n            resultset: this.getFieldElementsDbValues({})\n        };\n        let error = null;\n        let errorMessage = null;\n        // let rowId = null;\n        if(!editorFlags.isCreate) {\n            currentRowDataset = this.state.currentRowDataset;\n            error = this.state.error;\n            errorMessage = this.getErrorMessage(currentRowDataset, error);\n            // rowId = this.getFieldElementsDbValues(currentRowDataset.resultset).id; \n        }\n\n        // console_debug_log('editAction | action:' + action + ' | rowId: ' + rowId);\n        // console_debug_log('editAction | error: ' + error + ' | currentRowDataset object:');\n        // console_debug_log(currentRowDataset);\n        // console_debug_log('editAction | editorFlags object:');\n        // console_debug_log(editorFlags);\n        // console_debug_log('editAction | errorMessage:' + errorMessage);\n\n        return (\n            <div>\n                <h3>{editor.title + ' - ' +title}</h3>\n                {errorMessage &&\n                    errorAndReEnter(errorMessage)\n                }\n                {!errorMessage && currentRowDataset && \n                    /* this.editForm_Fornik_Modal(action, currentRowDataset.resultset) */\n                    this.editForm_Fornik_Final(action, currentRowDataset.resultset)\n                }\n                {!errorMessage && currentRowDataset && !editorFlags.isCreate &&\n                    this.iterateChildComponents(currentRowDataset.resultset)\n                }\n            </div>\n        );\n    }\n\n    setShowModalWindow(valueToSet) {\n        this.setState({ \n            showModalPopUp: valueToSet,\n        });\n    }\n\n    editForm_Fornik_Modal(action, dataset, message = '')  {\n        const { editor } = this.state;\n        \n        if (editor.type !== 'child_listing') {\n            return this.editForm_Fornik_Final(action, dataset, message);\n        }\n\n        // const [show, setShowModalWindow] = useState(false);\n        this.setShowModalWindow(true);\n\n        const handleClose = () => this.setShowModalWindow(false);\n        // const handleShow = () => this.setShowModalWindow(true);\n        const iframeTitle = editor.title + ' Popup';\n\n        return (\n            <>\n                <Modal show={this.state.showModalPopUp} onHide={handleClose}>\n                    <Modal.Title>{iframeTitle}</Modal.Title>\n                    <Modal.Body><iframe \n                        style={{width:'100%',height:'400px'}}\n                        title={iframeTitle}\n                    />\n                    {\n                        this.editForm_Fornik_Final(action, dataset, message = '')\n                    }\n                    </Modal.Body>\n                    <Modal.Footer>\n                        <button variant=\"secondary\" onClick={handleClose}>\n                        Close\n                        </button>\n                    </Modal.Footer>\n                </Modal>\n            </>\n        );\n    }\n\n    editForm_Fornik_Final(action, dataset, message = '')  {\n        const { editor } = this.state;\n        const editorFlags = this.getEditorFlags(action);\n        let initialFieldValues = this.getFieldElementsDbValues(dataset);\n        let rowId = initialFieldValues[editor.primaryKeyName];\n        if(editorFlags.isDelete) {\n            // 'Are you sure to delete this element? Please confirm with the [Delete] button or [Cancel] this operation.'\n            message = (message ? '<br/>' : '') + MSG_DELETE_CONFIRM;\n        }\n\n        let componentSelectFieldsOptions = {};\n        this.componentSelectFieldsOptionsPromises\n            .map( (currentObj) => {\n                currentObj.promiseResult\n                    .then( (options_array) => {\n                        console_debug_log('>> componentSelectFieldsOptions['+currentObj.name+'] | options_array = ');\n                        console_debug_log(options_array);\n                        componentSelectFieldsOptions[currentObj.name] = options_array;\n                    } );\n                return null;\n            });\n        console_debug_log('>> componentSelectFieldsOptions');\n        console_debug_log(componentSelectFieldsOptions);\n    \n        return (\n            <Formik\n                enableReinitialize={true}\n                initialValues={\n                    initialFieldValues\n                }\n                validationSchema={Yup.object().shape(\n                    this.getFieldElementsRequiredYupStype(editorFlags)\n                )}\n                onSubmit={\n                    (\n                        // this.getFieldElementsListObj(),\n                        submitedtElements,\n                        { setStatus, setSubmitting }\n                    ) => {\n                        setStatus();\n                        // console_debug_log('BEFORE this.dbService.createUpdateDelete(action = '+action+', rowId = '+rowId+')')\n                        if(editorFlags.isCreate && \n                                typeof submitedtElements.id !== 'undefined') {\n                            // Removes calculated ID\n                            delete submitedtElements.id;\n                        }\n                        // Save the row to Database\n                        this.saveRowToDatabase(\n                            action,\n                            rowId,\n                            submitedtElements,\n                            initialFieldValues\n                        )\n                        .then(\n                            result => {\n                                // console_debug_log('>>>  Formik result');\n                                // console_debug_log(result);\n                                if(result && result.error) {\n                                    setSubmitting(false);\n                                    setStatus(result);\n                                } else {\n                                    this.setNewAction(ACTION_LIST, null);\n                                }\n                            },\n                            error => {\n                                setSubmitting(false);\n                                setStatus(error);\n                            }\n                        );\n                }}\n            >{({ errors, status, touched, isSubmitting }) => (\n                <Form>\n                    {\n                        message &&\n                        <div key=\"AlertMessageOnTop\" className={'alert alert-danger'}>{message}</div>\n                    }\n                    {\n                        Object.entries(editor.fieldElements).map(function(htmlElement) {\n                            return putOneFormfield(htmlElement, componentSelectFieldsOptions, editorFlags, errors, touched);\n                        })\n                    }\n                    <Table>\n                        <tbody>\n                            <tr>\n                                {!editorFlags.isRead &&\n                                    <td align='left'>\n                                        <button \n                                            key=\"SubmitButton\"\n                                            type=\"submit\"\n                                            className=\"btn btn-primary\"\n                                            disabled={isSubmitting}>{editorFlags.isCreate ? MSG_ACTION_CREATE : editorFlags.isDelete ? MSG_ACTION_DELETE : MSG_ACTION_UPDATE}\n                                        </button>\n                                        {isSubmitting &&\n                                            <img src={WAIT_ANIMATION_IMG} alt={MSG_ALT_WAIT_ANIMATION}/>\n                                        }\n                                    </td>\n                                }\n                                <td align='left'>\n                                    <button \n                                        key=\"CancelButton\"\n                                        type=\"button\"\n                                        className=\"btn btn-primary\"\n                                        disabled={isSubmitting}\n                                        onClick={this.handleCancelClick}\n                                    >\n                                    {MSG_ACTION_CANCEL}\n                                    </button>\n                                </td>\n                            </tr>\n                        </tbody>\n                    </Table>\n                    {status &&\n                        <div className={'alert alert-danger'}>{status}</div>\n                    }\n                    <div/>\n                </Form>\n            )}\n        </Formik>\n        );\n    }\n\n    iterateChildComponents(dataset) {\n        let initialFieldValues = this.getFieldElementsDbValues(dataset);\n        let showChildComponents = this.showChildComponents;\n        return Object.entries(this.state.editor.childComponents)\n            .map(function(htmlElement) {\n                let childElement = htmlElement[1];\n                return showChildComponents(initialFieldValues, childElement);\n            });\n    }\n\n    showChildComponents(parentData, childElement) {\n        switch (childElement.name) {\n            case 'TheChildComponent':\n                return (\n                    /*\n                    <TheChildComponent key=\"TheChildComponent\"\n                        parentData={parentData} childElementData={childElement}\n                    ></TheChildComponent>\n                    */\n                   ''\n                );\n            default:\n                return ('');\n        }\n    }\n\n    saveRowToDatabase(action, rowId, submitedtElements, initialValues) {\n        const { editor } = this.state;\n        let rowToSave = submitedtElements;\n        if(editor.type === 'child_listing') {\n            // Build the format for child table\n            // Example:\n            // {\n            //     \"user_id\": \"{{TEST_USER_ID}}\",\n            //     \"food_times\": {\n            //         \"food_moment_id\": \"test_food_moment_id_2\",\n            //         \"food_time\": \"10:00\"\n            //     },\n            //     \"food_times_old\": {\n            //         \"food_moment_id\": \"test_food_moment_id_1\"\n            //     }\n            // }\n            rowId = null;\n            rowToSave = {};\n            editor.parentKeyNames.map(keyPair => {\n                rowToSave[keyPair.parameterName] = // 'user_id',\n                    editor.parentData[keyPair.parentElementName] // parent table 'id'\n                return null;\n            });\n            rowToSave[editor.array_name] = submitedtElements; // 'food_times'\n            rowToSave[editor.array_name+'_old'] = initialValues; // 'food_times'\n        }\n        // console_debug_log('saveRowToDatabase | editor: ');\n        // console_debug_log(editor);\n        // console_debug_log('saveRowToDatabase | rowToSave: ');\n        // console_debug_log(rowToSave);\n\n        // Save the row to Database\n        return this.dbService.createUpdateDelete(action, rowId, rowToSave);\n    }\n\n    // Returns an array with the field names on fieldElements\n    getFieldElementsListObj() {\n        let fieldElementsListObj = Object.entries(this.state.editor.fieldElements)\n            .map(function(key) {\n                let currentObj = key[1];\n                return currentObj.name;\n            }\n        );\n        return fieldElementsListObj\n    }\n\n    getComponentSelectFieldsOptions(fieldElements) { \n        this.componentSelectFieldsOptionsPromises = Object.entries(fieldElements)\n            .filter(function(key) {\n                let currentObj = key[1];\n                return (currentObj.type === 'select_component' && typeof currentObj.dataPopulator !== 'undefined');\n            })\n            .map(function(key) {\n                let currentObj = key[1];\n                let dataPopulatorObj = new currentObj.dataPopulator();\n                return {\n                    name: currentObj.name,\n                    promiseResult: dataPopulatorObj.getData()\n                        .then( (options_array) => {\n                            return options_array;\n                        } )\n                };\n            }\n        );\n    }\n    \n    getFieldElementsDbValues(datasetRaw, defaultValues = true) {\n        const { editor } = this.state;\n        let dataset = {}\n        if (editor.type !== 'child_listing') {\n            dataset = Object.assign({}, dataset, datasetRaw);\n        } else {\n            if(editor.subType === 'array') {\n                dataset = Object.assign({}, dataset, datasetRaw[0]);\n            }\n        }\n        let dbService = this.dbService;\n        let verifyElementExistence = this.verifyElementExistence;\n        let fieldElementsListObj = {};\n        Object.entries(editor.fieldElements)\n            .map(function(key) {\n                let currentObj = key[1];\n                if(currentObj.type === '_id') {\n                    if(verifyElementExistence(dataset, '_'+currentObj.name)) {\n                        fieldElementsListObj[currentObj.name] = dbService.convertId(dataset['_'+currentObj.name])\n                    } else if(defaultValues) {\n                        fieldElementsListObj[currentObj.name] = 0;\n                    }\n                } else if(verifyElementExistence(dataset, currentObj.name)) {\n                    fieldElementsListObj[currentObj.name] = dataset[currentObj.name];\n                } else if(defaultValues) {\n                    fieldElementsListObj[currentObj.name] = (currentObj.type === 'number' ? 0 : '');\n                }\n                return null;\n            }\n        );\n        return fieldElementsListObj\n    }\n\n    verifyElementExistence(dataset, element) {\n        let existsInDataset = (typeof dataset[element] !== 'undefined');\n        return existsInDataset;\n    }\n\n    getFieldElementsRequiredYupStype(editorFlags) {\n        if(editorFlags.isDelete) {\n            return {};\n        }\n        let fieldElementsListObj = {};\n        Object.entries(this.state.editor.fieldElements)\n            .map(function(key) {\n                let currentObj = key[1];\n                if(currentObj.required) {\n                    fieldElementsListObj[currentObj.name] = Yup.string().required(\n                        currentObj.label + ' is required'\n                    )\n                }\n                return null;\n            }\n        );\n        return fieldElementsListObj\n    }\n\n    setParentData(parentData) {\n        let newParentFilter = {};\n        this.editor.parentKeyNames.map(keyPair => \n            (\n                newParentFilter[keyPair.parameterName] = \n                    parentData[keyPair.parentElementName]\n            )\n        );\n        // console_debug_log('setParentData| '+this.editor.name+' |this.editor:');\n        // console_debug_log(this.editor);\n        // console_debug_log('setParentData| '+this.editor.name+' |newParentFilter: ');\n        // console_debug_log(newParentFilter);\n        this.editor.parentFilter = newParentFilter;\n        this.editor.parentData = parentData;\n    }\n\n}\n\nexport class GenericSelectGenerator extends React.Component {\n\n    editor = null;\n    dbService = null;\n\n    constructor(props) {\n        super(props);\n        this.editor = this.getEditorData();\n        this.state = this.initialState();\n        this.dbService = new dbApiService({url: this.editor.dbApiUrl})\n    }\n\n    getEditorData() {\n        return {};\n    }\n\n    initialState() {\n        return {\n            db_rows: null,\n            filter: (typeof this.props.filter !== 'undefined' ? this.props.filter : null),\n            show_description: (typeof this.props.show_description !== 'undefined' ? this.props.show_description : false),\n            editor: this.editor,\n        };\n    }\n\n    componentDidMount() {\n        this.dbService.getAll()\n            .then( (listingDataset) => {\n                // console_debug_log(this.state.editor.title+'-Select | fieldName: ' + this.props.fieldName + ' | listingDataset object:');\n                // console_debug_log(listingDataset);\n                this.setState({db_rows: listingDataset});\n            })\n            .catch( (error) => {\n                console_debug_log(this.state.editor.title+'-Select | error object:');\n                console_debug_log(error);\n            });\n    }\n\n    render() {\n        if (this.state.db_rows === null) {\n            // Still not ready...\n            return ('');\n        }\n        const selectOptions = [\n            ...[{ _id: null, name: MSG_SELECT_AN_OPTION}],\n            ...this.state.db_rows.resultset\n        ];\n        let dbService = this.dbService;\n        const {filter, show_description} = this.state;\n        return (\n            selectOptions\n                .filter((option) => (\n                    (filter === null ? true : dbService.convertId(option._id) === filter)\n                ))\n                .map((option) => {\n                    if(show_description) {\n                        return option.name;\n                    }\n                    return (\n                        <option \n                            key={dbService.convertId(option._id)}\n                            value={dbService.convertId(option._id)}\n                        >{option.name}\n                        </option>\n                    );\n                })\n        );\n    }\n}\n\nexport class GenericSelectDataPopulator {\n\n    editor = null;\n    dbService = null;\n    props = null;\n\n    constructor(props = {}) {\n        this.props = props;\n        this.editor = this.getEditorData();\n        this.state = this.initialState();\n        this.dbService = new dbApiService({url: this.editor.dbApiUrl})\n    }\n\n    getEditorData() {\n        return {};\n    }\n\n    initialState() {\n        return {\n            db_rows: null,\n            filter: (typeof this.props.filter !== 'undefined' ? this.props.filter : null),\n            editor: this.editor,\n            title_field_name: (typeof this.props.title_field_name !== 'undefined' ? this.props.show_description : 'title'),\n            value_field_name: (typeof this.props.value_field_name !== 'undefined' ? this.props.value_field_name : 'value'),\n        };\n    }\n\n    getData() {\n        return this.dbService.getAll()\n            .then( (listingDataset) => {\n                // console_debug_log(this.state.editor.title+'-Select | fieldName: ' + this.props.fieldName + ' | listingDataset object:');\n                // console_debug_log(listingDataset);\n                this.state.db_rows = listingDataset;\n                return this.returnData();\n            })\n            .catch( (error) => {\n                console_debug_log(this.state.editor.title+'-Select | error object:');\n                console_debug_log(error);\n                return false;\n            });\n    }\n\n    returnData() {\n        let dbService = this.dbService;\n        const {filter, title_field_name, value_field_name, db_rows} = this.state;\n        let returnValue = [];\n        let i=0;\n        db_rows.resultset\n            .filter((option) => (\n                (filter === null ? true : dbService.convertId(option._id) === filter)\n            ))\n            .map((option) => {\n                let currentElement = {};\n                currentElement[title_field_name] = option.name;\n                currentElement[value_field_name] = dbService.convertId(option._id);\n                returnValue[i++] = currentElement;\n                return null;\n            })\n        return returnValue;\n    }\n}\n\n\nexport function putSelectOptionsFromArray(select_array_elements, title_field_name='title', value_field_name='value') {\n    let emptyElement = {};\n    emptyElement[title_field_name] = MSG_SELECT_AN_OPTION;\n    emptyElement[value_field_name] = null;\n    const selectOptions = [\n        ...[emptyElement],\n        ...select_array_elements\n    ];\n    return selectOptions.map((option) => (\n        <option\n            key={option[value_field_name]}\n            value={option[value_field_name]} \n        >{option[title_field_name]}</option>\n    ))\n}\n\n\nexport function getSelectDescription(currentObj, dbRow) {\n    if(currentObj.type === 'select_component') {\n        return(\n            <currentObj.component filter={dbRow[currentObj.name].toString()} show_description={true} />\n        );\n    }\n    if (currentObj.type === 'select') {\n        return(\n            currentObj.select_elements\n                .filter((option) => (option.value === dbRow[currentObj.name].toString()))\n                .map((option) => option.title)\n        );\n    }\n    return dbRow[currentObj.name].toString();\n}\n\n\nexport function putOneFormfield(htmlElement, componentSelectFieldsOptions, editorFlags, errors, touched) {\n    let currentObj = htmlElement[1];\n    const readOnlyfield = (!editorFlags.isEdit || (typeof currentObj.readonly !== 'undefined' && currentObj.readonly));\n    switch(currentObj.type) {\n        case 'select_component':\n            let array_options = [];\n            if(typeof currentObj.dataPopulator !== 'undefined') {\n                if (typeof componentSelectFieldsOptions[currentObj.name] !== 'undefined') {\n                    array_options = componentSelectFieldsOptions[currentObj.name];\n                }\n            }\n            return (\n                <div\n                    key={currentObj.name}\n                    className=\"form-group\"\n                >\n                    <label htmlFor={currentObj.name}>{currentObj.label}</label>\n                    <Field \n                        name={currentObj.name}\n                        as=\"select\" \n                        disabled={readOnlyfield} \n                        className={\"form-control\" + (errors[currentObj.name] && touched[currentObj.name] ? ' is-invalid' : '')}\n                    >\n                        {\n                            typeof currentObj.dataPopulator !== 'undefined'\n                            ? putSelectOptionsFromArray(array_options)\n                            : <currentObj.component/>\n                        }\n                    </Field>\n                    <ErrorMessage name={currentObj.name} component=\"div\" className=\"invalid-feedback\" />\n                </div>\n            );\n        case 'select':\n            return (\n                <div\n                    key={currentObj.name}\n                    className=\"form-group\"\n                >\n                    <label htmlFor={currentObj.name}>{currentObj.label}</label>\n                    <Field \n                        name={currentObj.name}\n                        as=\"select\" \n                        disabled={readOnlyfield} \n                        className={\"form-control\" + (errors[currentObj.name] && touched[currentObj.name] ? ' is-invalid' : '')}\n                    >\n                    {\n                        putSelectOptionsFromArray(currentObj.select_elements)\n                    }\n                    </Field>\n                    <ErrorMessage name={currentObj.name} component=\"div\" className=\"invalid-feedback\" />\n                </div>\n            );\n        case 'text':\n        case 'number':\n        case 'date':\n        case 'email':\n        default:                                \n            return (\n                <div\n                    key={currentObj.name}\n                    className=\"form-group\"\n                >\n                    <label htmlFor={currentObj.name}>{currentObj.label}</label>\n                    <Field \n                        key={currentObj.name} \n                        name={currentObj.name} \n                        type={currentObj.type} \n                        disabled={readOnlyfield} \n                        className={\"form-control\" + (errors[currentObj.name] && touched[currentObj.name] ? ' is-invalid' : '')}\n                    />\n                    <ErrorMessage name={currentObj.name} component=\"div\" className=\"invalid-feedback\" />\n                </div>\n            )\n    }\n}","import { \n    MSG_ERROR_INVALID_TOKEN,\n    MSG_ERROR_CLICK_TO_RELOGIN,\n    MSG_ERROR_CLICK_TO_RETRY,\n    MSG_ERROR_SESSION_EXPIRED\n} from '../_constants/general_constants';\nimport { authenticationService } from '../_services';\nimport React from 'react';\nimport { Button } from 'react-bootstrap';\nimport { history } from '.';\n\nexport function logout() {\n    authenticationService.logout();\n    history.push('/login?redirect='+window.location.pathname);\n};\n\nexport function refreshPage() {\n    window.location.reload();;\n};\n\nexport function errorAndReEnter(errorMessage) {\n    return (\n        <div>\n            { errorAndRetry(errorMessage) }\n            { errorLoginAgain(errorMessage) }\n        </div>\n    );\n}\n\nexport function errorLoginAgain(errorMessage) {\n    if(errorMessage !== MSG_ERROR_INVALID_TOKEN) {\n        return (\n            <div></div>\n        );\n    }\n    return (\n        <div>\n            <br/>\n            <Button onClick={logout}>{MSG_ERROR_CLICK_TO_RELOGIN}</Button>\n        </div>\n    );\n}\n\nexport function errorAndRetry(errorMessage) {\n    return (\n        <div>\n            {errorMessageDiv(\n                (\n                    errorMessage === MSG_ERROR_INVALID_TOKEN\n                    ? MSG_ERROR_SESSION_EXPIRED\n                    : errorMessage\n                )\n            )}\n            <br/>\n            <Button onClick={refreshPage}>{MSG_ERROR_CLICK_TO_RETRY}</Button>\n        </div>\n    );\n}\n\nexport function errorMessageDiv(errorMessage) {\n    return (\n        <div className={'alert alert-danger'}>{errorMessage}</div>\n    );\n}","import { createBrowserHistory } from 'history';\n\nexport const history = createBrowserHistory();","export function getUrlParams(props) {\n    let urlParams = {};\n    if (props.hasOwnProperty('location')) {\n        if (props.location.hasOwnProperty('search')) {\n            if (props.location.search !== '') {\n                let searchString = props.location.search;\n                if (searchString.substring(0,1) === '?') {\n                    searchString = props.location.search.slice(1);\n                }\n                let keyPairs = searchString.split(\"&\");\n                if(Array.isArray(keyPairs)) {\n                    keyPairs.map(keyPairString => {\n                        let KeyValueArray = keyPairString.split('=');\n                        urlParams[KeyValueArray[0]] = \n                            (typeof KeyValueArray[1] === 'undefined' ? '' : KeyValueArray[1]);\n                        return null;\n                    });\n                }\n            }\n        }\n    } else {\n        if (props.hasOwnProperty('match')) {\n            if (props.match.hasOwnProperty('params')) {\n                urlParams = props.match.params;\n            }\n        }\n    }\n    return urlParams;\n}\n","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\n\r\nimport { authenticationService } from '../../_services/db.authentication.service';\r\nimport { console_debug_log } from '../../_services/loging.service';\r\n\r\nexport const PrivateRoute = ({ component: Component, ...rest }) => (\r\n    <Route {...rest} render={props => {\r\n        const currentUser = authenticationService.currentUserValue;\r\n        if (!currentUser) {\r\n            console_debug_log('PrivateRoute Not Authorized...')\r\n            // not logged in so redirect to login page with the return url\r\n            return <Redirect to={{ pathname: '/login', state: { from: props.location } }} />\r\n        }\r\n        // Authorized USER, so return component\r\n        return <Component {...props} />\r\n    }} />\r\n)","import React from 'react';\n\nimport { authenticationService } from '../../_services/db.authentication.service';\nimport { errorAndReEnter } from '../../_helpers/error-and-reenter';\n\nclass HomePage extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            currentUser: authenticationService.currentUserValue,\n            error: null\n        };\n    }\n\n    render() {\n        const { currentUser, error } = this.state;\n\n    return (\n            <div>\n                <h1>Hi {currentUser.firstName}!</h1>\n                {error &&\n                    // errorAndReEnter(errorMessage)\n                    errorAndReEnter(error)\n                }\n            </div>\n        );\n    }\n}\n\nexport { HomePage };","// import { console_debug_log } from '../../_services';\nimport { GenericEditor, GenericSelectGenerator, GenericSelectDataPopulator } from '../../_services/generic.editor.service';\n\n\nexport function FoodMoments_EditorData() {\n    return {\n        baseUrl: 'food_moments',\n        title: 'Food Moments',\n        name: 'Food Moment',\n        component: FoodMoments,\n        dbApiUrl: 'food_moments',\n        fieldElements: [\n            {\n                name: 'id',\n                required: true,\n                label: 'ID',\n                type: '_id',\n                readonly: true\n            }, \n            {\n                name: 'name',\n                required: true,\n                label: 'Name',\n                type: 'text',\n                readonly: false,\n                listing: true\n            }, \n        ]\n    }\n}\n\n\nexport class FoodMoments extends GenericEditor {\n    \n    getEditorData() {\n        return FoodMoments_EditorData();\n    }\n}\n\n\nexport class FoodMomentsSelect extends GenericSelectGenerator {\n\n    getEditorData() {\n        return FoodMoments_EditorData();\n    }\n}\n\nexport class FoodMomentDataPopulator extends GenericSelectDataPopulator {\n\n    getEditorData() {\n        return FoodMoments_EditorData();\n    }\n}\n","import { GenericEditor } from '../../_services/generic.editor.service';\nimport { FoodMomentsSelect, FoodMomentDataPopulator } from './FoodMoments';\n\n\nexport function UsersFoodTimes_EditorData() {\n    return {\n        baseUrl: 'food_times',\n        title: 'Food Times',\n        name: 'Food Time',\n        component: UsersFoodTimes,\n        dbApiUrl: 'users/user-food-times',\n\n        type: 'child_listing',\n        subType: 'array', // 'array' | 'table'\n        array_name: 'food_times',\n        parentKeyNames: [\n            {\n                parameterName: 'user_id',\n                parentElementName: 'id'\n            }\n        ],\n        primaryKeyName: 'food_moment_id',\n\n        fieldElements: [\n            {\n                name: 'food_moment_id',\n                label: 'Type',\n                required: true,\n                type: 'select_component',\n                dataPopulator: FoodMomentDataPopulator,\n                component: FoodMomentsSelect,\n                listing: true\n            }, \n            {\n                name: 'food_time',\n                required: true,\n                label: 'Time',\n                type: 'text',\n                readonly: false,\n                listing: true\n            }, \n        ]\n    }\n}\n\n\nexport class UsersFoodTimes extends GenericEditor {\n    \n    getEditorData() {\n        return UsersFoodTimes_EditorData();\n    }\n}\n","import { GenericEditor } from '../../_services/generic.editor.service';\nimport { WEIGHT_UNITS } from '../../_constants/users_constants';\n\n\nexport function UsersUserHistory_EditorData() {\n    return {\n        baseUrl: 'user_history',\n        title: 'User History',\n        name: 'User History',\n        component: UsersUserHistory,\n        dbApiUrl: 'users/user-user-history',\n\n        type: 'child_listing',\n        subType: 'array', // 'array' | 'table'\n        array_name: 'user_history',\n        parentKeyNames: [\n            {\n                parameterName: 'user_id',\n                parentElementName: 'id'\n            }\n        ],\n        primaryKeyName: 'date',\n\n        fieldElements: [\n            {\n                name: 'date',\n                label: 'Date',\n                required: true,\n                type: 'date',\n                listing: true,\n            }, \n            {\n                name: 'goals',\n                required: true,\n                label: 'Goals',\n                type: 'text',\n                readonly: false,\n                listing: true,\n            }, \n            {\n                name: 'weight',\n                required: true,\n                label: 'Weight',\n                type: 'number',\n                readonly: false,\n                listing: true,\n            },\n            {\n                name: 'weight_unit',\n                required: true,\n                label: 'Weight Unit',\n                type: 'select',\n                select_elements: WEIGHT_UNITS,\n                readonly: false,\n                listing: true,\n            },\n        ]\n    }\n}\n\n\nexport class UsersUserHistory extends GenericEditor {\n    \n    getEditorData() {\n        return UsersUserHistory_EditorData();\n    }\n}\n","// import React from 'react';\n// import { Table } from 'react-bootstrap'\n// import { Formik, Field, Form, ErrorMessage } from 'formik';\n// import * as Yup from 'yup';\n\nimport { GenericEditor } from '../../_services/generic.editor.service';\nimport { WEIGHT_UNITS, HEIGHT_UNITS } from '../../_constants/users_constants';\nimport { UsersFoodTimes } from './UsersFoodTimes';\nimport { UsersUserHistory } from './UsersUserHistory';\n\nimport { console_debug_log } from '../../_services/loging.service';\n\nexport function Users_EditorData() {\n    return {\n        baseUrl: 'users',\n        title: 'Users',\n        name: 'User',\n        component: Users,\n        dbApiUrl: 'users',\n        fieldElements: [\n            {\n                name: 'id',\n                required: true,\n                label: 'ID',\n                type: '_id',\n                readonly: true\n            }, \n            {\n                name: 'firstname',\n                required: true,\n                label: 'First Name',\n                type: 'text',\n                readonly: false,\n                listing: true\n            }, \n            {\n                name: 'lastname',\n                required: true,\n                label: 'Last Name',\n                type: 'text',\n                readonly: false,\n                listing: true\n            },\n            {\n                name: 'email',\n                required: true,\n                label: 'Email',\n                type: 'email',\n                readonly: false,\n                listing: true\n            },\n            {\n                name: 'training_days',\n                required: true,\n                label: 'Training Days',\n                type: 'text',\n                readonly: false\n            },\n            {\n                name: 'training_hour',\n                required: true,\n                label: 'Training Hour',\n                type: 'text',\n                readonly: false\n            },\n            {\n                name: 'birthday',\n                required: true,\n                label: 'Birthday',\n                type: 'date',\n                readonly: false\n            },\n            {\n                name: 'height',\n                required: true,\n                label: 'Height',\n                type: 'number',\n                readonly: false,\n                listing: true\n            },\n            {\n                name: 'height_unit',\n                required: true,\n                label: 'Height Unit',\n                type: 'select',\n                select_elements: HEIGHT_UNITS,\n                readonly: false,\n                listing: true\n            },\n            {\n                name: 'weight',\n                required: true,\n                label: 'Weight',\n                type: 'number',\n                readonly: false\n            },\n            {\n                name: 'weight_unit',\n                required: true,\n                label: 'Weight Unit',\n                type: 'select',\n                select_elements: WEIGHT_UNITS,\n                readonly: false\n            },\n            {\n                name: 'creation_date',\n                required: true,\n                label: 'Creation Date',\n                type: 'date',\n                readonly: false,\n                hidden: true,\n                default_value: 'current_timestamp',\n                listing: true\n            },\n        ],\n        childComponents: [\n            {\n                name: 'UsersFoodTimes'\n            },\n            {\n                name: 'UsersUserHistory'\n            },\n        ]\n    }\n}\n\nexport class Users extends GenericEditor {\n    \n    getEditorData() {\n        return Users_EditorData();\n    }\n\n    showChildComponents(parentData, childElement) {\n        console_debug_log('USERS showChildComponents | childElement.name: '+childElement.name);\n        switch (childElement.name) {\n            case 'UsersFoodTimes':\n                return (\n                    <UsersFoodTimes key=\"UsersFoodTimes\"\n                        parentData={parentData} childElementData={childElement}\n                    ></UsersFoodTimes>\n                );\n            case 'UsersUserHistory':\n                return (\n                    <UsersUserHistory key=\"UsersUserHistory\"\n                        parentData={parentData} childElementData={childElement}\n                    ></UsersUserHistory>\n                );\n            default:\n                return ('');\n        }\n    }\n\n}\n","import React from 'react';\nimport { Formik, Field, Form, ErrorMessage } from 'formik';\nimport * as Yup from 'yup';\n\nimport { authenticationService } from '../../_services/db.authentication.service';\nimport { getUrlParams } from '../../_helpers/url-params';\nimport { console_debug_log } from '../../_services/loging.service';\nimport { WAIT_ANIMATION_IMG } from '../../_constants/general_constants';\n\nclass LoginPage extends React.Component {\n\n    urlParams = {}\n\n    constructor(props) {\n        super(props);\n\n        this.urlParams = getUrlParams(props);\n        if( typeof this.urlParams.redirect === 'undefined') {\n            this.urlParams.redirect = '/';\n        }\n\n        // redirect to home if already logged in\n        if (authenticationService.currentUserValue) { \n            this.props.history.push(this.urlParams.redirect);\n        }\n    }\n\n    render() {\n        return (\n            <div>\n                <div className=\"alert alert-info\">\n                    FynApp\n                </div>\n                <h2>Login</h2>\n                <Formik\n                    initialValues={{\n                        username: '',\n                        password: ''\n                    }}\n                    validationSchema={Yup.object().shape({\n                        username: Yup.string().required('Username is required'),\n                        password: Yup.string().required('Password is required')\n                    })}\n                    onSubmit={({ username, password }, { setStatus, setSubmitting }) => {\n                        setStatus();\n                        authenticationService.login(username, password)\n                            .then(\n                                user => {\n                                    const { from } = this.props.location.state || { from: { pathname: this.urlParams.redirect } };\n                                    this.props.history.push(from);\n                                },\n                                error => {\n                                    setSubmitting(false);\n\n                                    // console_debug_log('..--> LoginPage.render.Formik() | response NO ok... / error =');\n                                    console_debug_log(error);\n                        \n                                    setStatus(error);\n                                }\n                            );\n                    }}\n                >{({ errors, status, touched, isSubmitting }) => (\n                    <Form>\n                        <div className=\"form-group\">\n                            <label htmlFor=\"username\">Username</label>\n                            <Field name=\"username\" type=\"text\" className={'form-control' + (errors.username && touched.username ? ' is-invalid' : '')} />\n                            <ErrorMessage name=\"username\" component=\"div\" className=\"invalid-feedback\" />\n                        </div>\n                        <div className=\"form-group\">\n                            <label htmlFor=\"password\">Password</label>\n                            <Field name=\"password\" type=\"password\" className={'form-control' + (errors.password && touched.password ? ' is-invalid' : '')} />\n                            <ErrorMessage name=\"password\" component=\"div\" className=\"invalid-feedback\" />\n                        </div>\n                        <div className=\"form-group\">\n                            <button type=\"submit\" className=\"btn btn-primary\" disabled={isSubmitting}>Login</button>\n                            {isSubmitting &&\n                                <img src={WAIT_ANIMATION_IMG} alt=\"Wait...\"/>\n                            }\n                        </div>\n                        {status &&\n                            <div className={'alert alert-danger'}>{status}</div>\n                        }\n                    </Form>\n                )}\n                </Formik>\n            </div>\n        )\n    }\n}\n\nexport { LoginPage }; ","import React from 'react';\nimport { Router, Route } from 'react-router-dom';\nimport { Navbar, NavDropdown, Container, Nav } from 'react-bootstrap';\n\nimport { history } from '../../_helpers';\n// import { console_debug_log } from '../../_services';\nimport { PrivateRoute } from '../../_components/Helpers/PrivateRoute';\nimport { authenticationService } from '../../_services';\nimport { HomePage } from '../../_components/HomePage/HomePage';\nimport { Users_EditorData } from '../SuperAdminOptions/Users';\nimport { FoodMoments_EditorData } from '../SuperAdminOptions/FoodMoments';\nimport { LoginPage } from '../../_components/LoginPage/LoginPage';\n\n/*\n// for AboutPopUp\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport LinkWrapper from '../About/LinkWrapper';\n// import {BrowserRouter} from \"react-router-dom\";\nimport { About } from '../About/About';\nconst external_link=\"https://reactrouter.com/web/guides/quick-start\";\nconst internal_link=\"http://localhost:3000/about\"\n*/\n\nclass App extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            currentUser: null,\n        };\n        // console.log('process.env');\n        // console.log(process.env);\n    }\n\n    // handleEditClick = (e) => {\n    //     this.setState({\n    //       id: e.target.value,\n    //       action: 'edit'\n    //     });\n    //     console_debug_log('handleEditClick - id: '+this.state.id+' | action: '+this.state.action);\n    //   };\n\n    // handleReadClick = (e) => {\n    //     this.setState({\n    //       id: e.target.value,\n    //       action: 'read'\n    //     });\n    //     console_debug_log('handleReadClick - id: '+this.state.id+' | action: '+this.state.action);\n    //   };\n\n    // handleDeleteClick = (e) => {\n    //     this.setState({\n    //       id: e.target.value,\n    //       action: 'delete'\n    //     });\n    //     console_debug_log('handleDeleteClick - id: '+this.state.id+' | action: '+this.state.action);\n    //   };\n\n    /*\n    AboutPopUp() {\n        return (\n            <div>\n                <LinkWrapper link={external_link}/>\n                <LinkWrapper link={internal_link}/>\n                <Route path=\"/about\">\n                    <About/>\n                </Route>\n            </div>\n        );\n    }\n    */\n\n    componentDidMount() {\n        authenticationService.currentUser.subscribe(\n            x => this.setState({ currentUser: x })\n        );\n    }\n\n    logout() {\n        authenticationService.logout();\n        history.push('/login');\n    }\n\n    render() {\n        const { currentUser } = this.state;\n        return (\n            <Router history={history}>\n                <div>\n                    {currentUser &&\n                        <Navbar className=\"navbar-dark bg-dark\" expand=\"lg\">\n                            <Container>\n                                <Navbar.Brand href=\"/\">FynApp</Navbar.Brand>\n                                <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\n                                <Navbar.Collapse id=\"basic-navbar-nav\">\n                                    <Nav className=\"me-auto\">\n                                        <Nav.Link href=\"/\">Home</Nav.Link>\n                                        <NavDropdown title=\"Admin\" id=\"basic-nav-dropdown\">\n                                            { editorMenuOption(Users_EditorData()) }\n                                            { editorMenuOption(FoodMoments_EditorData()) }\n                                        </NavDropdown>\n                                    </Nav>\n                                </Navbar.Collapse>\n                                <Navbar.Collapse id=\"current-user-navbar-nav\" className=\"justify-content-end\">\n                                    <Navbar.Text>Signed in as:</Navbar.Text>\n                                    <NavDropdown title={currentUser.firstName} id=\"basic-nav-dropdown\">\n                                        <NavDropdown.Item href=\"#profile\">Profile</NavDropdown.Item>\n                                        <NavDropdown.Item href=\"#preferences\">Preferences</NavDropdown.Item>\n                                        <NavDropdown.Divider />\n                                        <NavDropdown.Item onClick={this.logout}>Logout</NavDropdown.Item>\n                                    </NavDropdown>\n                                </Navbar.Collapse>\n                            </Container>\n                        </Navbar>\n                    }\n                </div>\n                <div>\n                    <div className=\"jumbotron\">\n                        <div className=\"container\">\n                            <div className=\"row\">\n                                {/* <div className=\"col-md-6 offset-md-3\"> */}\n                                <div className=\"col-md-6\">\n                                    <div>\n                                        <PrivateRoute exact path=\"/\" component={HomePage} />\n                                    </div>\n                                    <div>\n                                    </div>\n                                    <div>\n                                        <Route path=\"/login\" component={LoginPage} />\n                                    </div>\n                                    { editorRoute(Users_EditorData()) }\n                                    { editorRoute(FoodMoments_EditorData()) }\n                                </div>\n                                { /* this.AboutPopUp() */ }\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </Router>\n        );\n    }\n}\n\n\nfunction editorRoute(editor) {\n    return (\n        <div>\n            <PrivateRoute exact path={'/'+editor.baseUrl} component={editor.component} />\n        </div>\n    );\n}\n\nfunction editorMenuOption(editor) {\n    return (\n        <div>\n            <NavDropdown.Item href={'/'+editor.baseUrl}>{editor.title}</NavDropdown.Item>\n        </div>\n    );\n}\n\nexport { App }; ","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n// import './index.css';\n// import App from './App';\nimport { App } from './_components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}